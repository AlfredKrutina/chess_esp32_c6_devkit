\doxysection{Dokumentace souboru matrix\+\_\+task.\+c}
\hypertarget{matrix__task_8c}{}\label{matrix__task_8c}\index{matrix\_task.c@{matrix\_task.c}}


Matrix Scanning Task -\/ Detekce fyzickych figurek na sachovnici.  


{\ttfamily \#include "{}matrix\+\_\+task.\+h"{}}\newline
{\ttfamily \#include "{}chess\+\_\+types.\+h"{}}\newline
{\ttfamily \#include "{}driver/gpio.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+log.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+system.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+task\+\_\+wdt.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+timer.\+h"{}}\newline
{\ttfamily \#include "{}freertos/\+Free\+RTOS.\+h"{}}\newline
{\ttfamily \#include "{}freertos/queue.\+h"{}}\newline
{\ttfamily \#include "{}freertos/semphr.\+h"{}}\newline
{\ttfamily \#include "{}freertos/task.\+h"{}}\newline
{\ttfamily \#include "{}freertos/timers.\+h"{}}\newline
{\ttfamily \#include "{}freertos\+\_\+chess.\+h"{}}\newline
{\ttfamily \#include $<$ctype.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Graf závislostí na vkládaných souborech pro matrix\+\_\+task.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{matrix__task_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Funkce}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{matrix__task_8c_a768b8bf362b42a4e04ac58639035a938}{demo\+\_\+report\+\_\+activity}} (void)
\begin{DoxyCompactList}\small\item\em Report activity on the board (interrupt demo mode) Called from matrix\+\_\+task when any change is detected. \end{DoxyCompactList}\item 
static esp\+\_\+err\+\_\+t \mbox{\hyperlink{matrix__task_8c_ad3ad65033f5eaaf1b607d806e212fe50}{matrix\+\_\+task\+\_\+wdt\+\_\+reset\+\_\+safe}} (void)
\begin{DoxyCompactList}\small\item\em Bezpecny reset WDT s logovanim WARNING misto ERROR pro ESP\+\_\+\+ERR\+\_\+\+NOT\+\_\+\+FOUND. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{matrix__task_8c_a2a57a5bda73ab9817a44c3c5702932f3}{matrix\+\_\+scan\+\_\+row\+\_\+internal}} (uint8\+\_\+t row)
\begin{DoxyCompactList}\small\item\em Skenuje jeden radek matice (interni funkce bez mutexu). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_a395c914a55ec3ebc25a3a3af66d6bba8}{matrix\+\_\+scan\+\_\+row}} (uint8\+\_\+t row)
\begin{DoxyCompactList}\small\item\em Oskenuj jeden radek matice. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_a86518ffc745875b5c3c34d7c96f7e186}{matrix\+\_\+scan\+\_\+all}} (void)
\begin{DoxyCompactList}\small\item\em Oskenuj celou matici. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{matrix__task_8c_ae622813bcd8b41c1040db3a6c8d34e13}{matrix\+\_\+send\+\_\+pickup\+\_\+command}} (uint8\+\_\+t square)
\begin{DoxyCompactList}\small\item\em Helper function to send PICKUP command to game\+\_\+command\+\_\+queue. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{matrix__task_8c_a0684c1516035306b49514c47a1af0fed}{matrix\+\_\+send\+\_\+drop\+\_\+command}} (uint8\+\_\+t square)
\begin{DoxyCompactList}\small\item\em Helper function to send DROP command to game\+\_\+command\+\_\+queue. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{matrix__task_8c_a275f664c60af320845973b221bd1db55}{matrix\+\_\+send\+\_\+drop\+\_\+command\+\_\+with\+\_\+from}} (uint8\+\_\+t from\+\_\+square, uint8\+\_\+t to\+\_\+square)
\begin{DoxyCompactList}\small\item\em Helper function to send DROP command with from/to notation to game\+\_\+command\+\_\+queue. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_ad81a1142e821938e81029ad1d88f57d7}{matrix\+\_\+detect\+\_\+moves}} (void)
\begin{DoxyCompactList}\small\item\em Detekuj tahy z matice. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_a9f313f74d8c7d9bac02294a7f873eb75}{matrix\+\_\+detect\+\_\+complete\+\_\+move}} (uint8\+\_\+t from\+\_\+square, uint8\+\_\+t to\+\_\+square)
\begin{DoxyCompactList}\small\item\em Detekuj kompletni tah. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_ab2ee938ff9e39dbaeed9729d194db94a}{matrix\+\_\+square\+\_\+to\+\_\+notation}} (uint8\+\_\+t square, char \texorpdfstring{$\ast$}{*}notation)
\begin{DoxyCompactList}\small\item\em Prevede cislo pole na sachovou notaci. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{matrix__task_8c_a7401a07900074895370aa1ba67a95c56}{matrix\+\_\+notation\+\_\+to\+\_\+square}} (const char \texorpdfstring{$\ast$}{*}notation)
\begin{DoxyCompactList}\small\item\em Prevede sachovou notaci na cislo pole. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_a62798e0c14260b016d8d1739dedc2056}{matrix\+\_\+get\+\_\+state}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}state\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em Ziskej stav matice. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_a4879f19808c12282ff427342dfea0f12}{matrix\+\_\+print\+\_\+state}} (void)
\begin{DoxyCompactList}\small\item\em Vypis aktualni stav matice. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_af455a307ac1bd0e33a3c213d3a5889e3}{matrix\+\_\+test\+\_\+scanning}} (void)
\item 
void \mbox{\hyperlink{matrix__task_8c_ac791c32154297e3ceebd47d8096cc8b9}{matrix\+\_\+simulate\+\_\+move}} (const char \texorpdfstring{$\ast$}{*}from, const char \texorpdfstring{$\ast$}{*}to)
\begin{DoxyCompactList}\small\item\em Simuluj tah v matici. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_a60eff3fc23741f64ce1c24d5d556906b}{matrix\+\_\+process\+\_\+commands}} (void)
\begin{DoxyCompactList}\small\item\em Zpracuj matrix prikazy z fronty. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_aa7161ac2bf0076cc5ddfc91270c2bd34}{matrix\+\_\+reset}} (void)
\begin{DoxyCompactList}\small\item\em Resetuj stav matice. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_a9afd14fa75a6cfa6e37480b4935cd285}{matrix\+\_\+release\+\_\+pins}} (void)
\begin{DoxyCompactList}\small\item\em Uvolni matrix row piny pro button scanning. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_a8162927b4230f6777b1d42deec017797}{matrix\+\_\+acquire\+\_\+pins}} (void)
\begin{DoxyCompactList}\small\item\em Znovu aktivuj matrix row piny pro matrix scanning. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{matrix__task_8c_a4ffeb65e7984e50f1ad65b6a92c304cf}{matrix\+\_\+pins\+\_\+released}} (void)
\begin{DoxyCompactList}\small\item\em Overi zda jsou matrix piny uvolnene. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{matrix__task_8c_a61e7f4685d87d40d712b5de9b8d22222}{matrix\+\_\+task\+\_\+start}} (void \texorpdfstring{$\ast$}{*}pv\+Parameters)
\begin{DoxyCompactList}\small\item\em Spusti matrix task. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Proměnné}
\begin{DoxyCompactItemize}
\item 
static const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{matrix__task_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}} = "{}MATRIX\+\_\+\+TASK"{}
\item 
static uint8\+\_\+t \mbox{\hyperlink{matrix__task_8c_a3a1805bac344d932f67d863f671240d1}{matrix\+\_\+state}} \mbox{[}64\mbox{]} = \{0\}
\item 
static uint8\+\_\+t \mbox{\hyperlink{matrix__task_8c_add49e624d0cc3921ffa016066be0f462}{matrix\+\_\+previous}} \mbox{[}64\mbox{]} = \{0\}
\item 
static uint8\+\_\+t \mbox{\hyperlink{matrix__task_8c_aa6b75ccca141dbb71ab2e190fc56078b}{matrix\+\_\+changes}} \mbox{[}64\mbox{]} = \{0\}
\item 
static bool \mbox{\hyperlink{matrix__task_8c_a35141cb45623cb3b7b4d96da35ed1831}{task\+\_\+running}} = false
\item 
static bool \mbox{\hyperlink{matrix__task_8c_a740a5ff73f18495856ddbc99ad099a6b}{simulation\+\_\+mode}} = false
\item 
bool \mbox{\hyperlink{matrix__task_8c_ac4220888456a96a1308bbf06df3730b8}{matrix\+\_\+scanning\+\_\+enabled}} = true
\item 
static uint8\+\_\+t \mbox{\hyperlink{matrix__task_8c_aeccb1670596f160cce0ab5caec367e05}{current\+\_\+row}} = 0
\item 
static uint32\+\_\+t \mbox{\hyperlink{matrix__task_8c_a830cb4e3e4e340d70981f59ced6381fd}{last\+\_\+scan\+\_\+time}} = 0
\item 
static uint32\+\_\+t \mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\+\_\+count}} = 0
\item 
static uint8\+\_\+t \mbox{\hyperlink{matrix__task_8c_a25428bbb3212a5e17896b6f0de83ca2f}{last\+\_\+piece\+\_\+lifted}} = 255
\item 
static uint8\+\_\+t \mbox{\hyperlink{matrix__task_8c_a41dfccc3e986ded30a04de8de37d251f}{last\+\_\+piece\+\_\+placed}} = 255
\item 
static uint32\+\_\+t \mbox{\hyperlink{matrix__task_8c_a001592c98e5a19d78635751717390918}{move\+\_\+detection\+\_\+timeout}} = 0
\item 
static const uint8\+\_\+t \mbox{\hyperlink{matrix__task_8c_abc6d07b73f387c902d6c85c33e923cfa}{simulation\+\_\+patterns}} \mbox{[}$\,$\mbox{]}\mbox{[}64\mbox{]}
\item 
static uint8\+\_\+t \mbox{\hyperlink{matrix__task_8c_a859ec6ecf084e6271c6b99fb28f6be94}{current\+\_\+pattern}} = 1
\end{DoxyCompactItemize}


\doxysubsection{Detailní popis}
Matrix Scanning Task -\/ Detekce fyzickych figurek na sachovnici. 

\hypertarget{matrix__task_8c_autotoc_md53}{}\doxysubsection{\texorpdfstring{autotoc\+\_\+md53}{autotoc\+\_\+md53}}\label{matrix__task_8c_autotoc_md53}
\hypertarget{matrix__task_8c_autotoc_md54}{}\doxysubsection{\texorpdfstring{CO TENTO SOUBOR DELA?}{CO TENTO SOUBOR DELA?}}\label{matrix__task_8c_autotoc_md54}
Tento task skenujesachovnici a detekuje pohyb figurek\+:
\begin{DoxyEnumerate}
\item Multiplexovany sken 8x8 matrix (Jazyckove kontakty pod kazdym polem)
\item Debouncing (ignoruje "{}zatraseni"{} pri zvedani/kladeni figurky)
\item Detekce UP/\+DN udalosti (figurka zvedla/polozila)
\item Poslani tahu do game\+\_\+task (kdyz detekuje kompletni tah)
\item Error detection (spatny sled eventu)
\end{DoxyEnumerate}

\DoxyHorRuler{0}
 \hypertarget{matrix__task_8c_autotoc_md56}{}\doxysubsection{\texorpdfstring{JAK TO FUNGUJE?}{JAK TO FUNGUJE?}}\label{matrix__task_8c_autotoc_md56}
MULTIPLEX SCANNING\+:
\begin{DoxyItemize}
\item Aktivuj radek 0 (row select GPIO)
\item Cti 8 sloupcu (column read GPIO)
\item Uloz stav -\/\texorpdfstring{$>$}{>} matrix\+\_\+state\mbox{[}0\mbox{]}\mbox{[}0-\/7\mbox{]}
\item Deaktivuj radek 0
\item Opakuj pro radky 1-\/7
\item Celkovy cas\+: \texorpdfstring{$\sim$}{\string~}10ms (cely sken)
\end{DoxyItemize}

DEBOUNCING\+:
\begin{DoxyItemize}
\item Kazdy senzor musi byt stabilni 3 skeny za sebou
\item Pak teprve detekujeme zmenu (UP/\+DN)
\item Ignoruje "{}chveni"{} pri manipulaci
\end{DoxyItemize}

PIECE TRACKING\+:
\begin{DoxyItemize}
\item Stav\+: IDLE -\/\texorpdfstring{$>$}{>} PIECE\+\_\+\+UP -\/\texorpdfstring{$>$}{>} PIECE\+\_\+\+DN -\/\texorpdfstring{$>$}{>} IDLE
\item UP na e2 -\/\texorpdfstring{$>$}{>} cekame na DN nekde jinde
\item DN na e4 -\/\texorpdfstring{$>$}{>} tah e2-\/e4 detekovan!
\item Posli do game\+\_\+command\+\_\+queue
\end{DoxyItemize}

\DoxyHorRuler{0}
 \hypertarget{matrix__task_8c_autotoc_md58}{}\doxysubsection{\texorpdfstring{KOMUNIKACE (FIFOS)}{KOMUNIKACE (FIFOS)}}\label{matrix__task_8c_autotoc_md58}
FRONTA -\/ Posilame detkovane tahy\+:
\begin{DoxyItemize}
\item game\+\_\+command\+\_\+queue -\/\texorpdfstring{$>$}{>} Poslani tahu typu GAME\+\_\+\+CMD\+\_\+\+MOVE\+\_\+\+DETECTED
\end{DoxyItemize}

ZADNE MUTEXY -\/ Task je read-\/only (jen cte GPIO)

\DoxyHorRuler{0}
 \hypertarget{matrix__task_8c_autotoc_md60}{}\doxysubsection{\texorpdfstring{HARDWARE (GPIO MAPPING)}{HARDWARE (GPIO MAPPING)}}\label{matrix__task_8c_autotoc_md60}
ROW SELECT (8 pinu, aktivni LOW)\+:
\begin{DoxyItemize}
\item GPIO 10-\/17\+: Vyber radku sachovnice
\end{DoxyItemize}

COLUMN READ (8 pinu, pull-\/up)\+:
\begin{DoxyItemize}
\item GPIO 18-\/25\+: Cteni Jazyckovych kontaktu (Reed switches)
\end{DoxyItemize}

Jazyckove kontakty\+: Detekuji magnet ve figurce
\begin{DoxyItemize}
\item LOW = Figurka pritomna
\item HIGH = Prazdne pole
\end{DoxyItemize}

\DoxyHorRuler{0}
 \hypertarget{matrix__task_8c_autotoc_md62}{}\doxysubsection{\texorpdfstring{KRITICKA PRAVIDLA}{KRITICKA PRAVIDLA}}\label{matrix__task_8c_autotoc_md62}
\begin{DoxyWarning}{Pozor}
CO SE NESMI DELAT\+:
\end{DoxyWarning}

\begin{DoxyEnumerate}
\item NIKDY nemaz debounce delay! Bez debounce bude detekovat "{}chveni"{} jako desitky eventu
\item NIKDY neskrацуй scan interval pod 10ms! GPIO multiplex potrebuje cas na ustabilizovani
\item NIKDY neposilej tah primo do game\+\_\+execute\+\_\+move! ❌ game\+\_\+execute\+\_\+move(\&move); // Pristup z jineho tasku! ✅ x\+Queue\+Send(game\+\_\+command\+\_\+queue, \&cmd, ...); // Pres frontu
\item VZDY kontroluj queue overflow! Pokud game\+\_\+task je zahlcen, fronta se muze naplnit
\end{DoxyEnumerate}

\DoxyHorRuler{0}
 \hypertarget{matrix__task_8c_autotoc_md64}{}\doxysubsection{\texorpdfstring{TABLE OF CONTENTS}{TABLE OF CONTENTS}}\label{matrix__task_8c_autotoc_md64}
Sekce 1\+: GPIO Init ............................ radek 80 Sekce 2\+: Matrix Scanning ...................... radek 200 Sekce 3\+: Debouncing Logic ..................... radek 350 Sekce 4\+: Event Detection ...................... radek 500 Sekce 5\+: Main Matrix Task ..................... radek 750

\DoxyHorRuler{0}


\begin{DoxyAuthor}{Autor}
Alfred Krutina 
\end{DoxyAuthor}
\begin{DoxyVersion}{Verze}
2.\+4 
\end{DoxyVersion}
\begin{DoxyDate}{Datum}
2025-\/12-\/22
\end{DoxyDate}
\begin{DoxyNote}{Poznámka}

\begin{DoxyItemize}
\item Task priorita\+: 6 (vyssi nez game -\/ realtime detection)
\item Scan interval\+: 10ms
\item Debounce\+: 3 skeny (30ms)
\end{DoxyItemize}
\end{DoxyNote}
\begin{DoxySeeAlso}{Viz také}
\doxylink{game__task_8c}{game\+\_\+task.\+c} -\/ Prijima detkovane tahy 
\end{DoxySeeAlso}


Definice v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.



\label{doc-func-members}
\Hypertarget{matrix__task_8c_doc-func-members}
\doxysubsection{Dokumentace funkcí}
\Hypertarget{matrix__task_8c_a768b8bf362b42a4e04ac58639035a938}\index{matrix\_task.c@{matrix\_task.c}!demo\_report\_activity@{demo\_report\_activity}}
\index{demo\_report\_activity@{demo\_report\_activity}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{demo\_report\_activity()}{demo\_report\_activity()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a768b8bf362b42a4e04ac58639035a938} 
void demo\+\_\+report\+\_\+activity (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [extern]}}



Report activity on the board (interrupt demo mode) Called from matrix\+\_\+task when any change is detected. 



Definice je uvedena na řádku \mbox{\hyperlink{main_8c_source_l00532}{532}} v souboru \mbox{\hyperlink{main_8c_source}{main.\+c}}.

\Hypertarget{matrix__task_8c_a8162927b4230f6777b1d42deec017797}\index{matrix\_task.c@{matrix\_task.c}!matrix\_acquire\_pins@{matrix\_acquire\_pins}}
\index{matrix\_acquire\_pins@{matrix\_acquire\_pins}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_acquire\_pins()}{matrix\_acquire\_pins()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a8162927b4230f6777b1d42deec017797} 
void matrix\+\_\+acquire\+\_\+pins (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Znovu aktivuj matrix row piny pro matrix scanning. 

Obnovi normalni matrix scanning rezim po button scan window.

Tato funkce je volana po button scan window. Matrix muze pokracovat v normalnim skenovani. 

Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00846}{846}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a9f313f74d8c7d9bac02294a7f873eb75}\index{matrix\_task.c@{matrix\_task.c}!matrix\_detect\_complete\_move@{matrix\_detect\_complete\_move}}
\index{matrix\_detect\_complete\_move@{matrix\_detect\_complete\_move}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_detect\_complete\_move()}{matrix\_detect\_complete\_move()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a9f313f74d8c7d9bac02294a7f873eb75} 
void matrix\+\_\+detect\+\_\+complete\+\_\+move (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{from\+\_\+square}{, }\item[{uint8\+\_\+t}]{to\+\_\+square}{}\end{DoxyParamCaption})}



Detekuj kompletni tah. 

Detekuje kompletni tah (zvednutí + položení figurky) a posle MATRIX\+\_\+\+EVENT\+\_\+\+MOVE\+\_\+\+DETECTED udalost.


\begin{DoxyParams}{Parametry}
{\em from\+\_\+square} & Zdrojove pole (0-\/63) \\
\hline
{\em to\+\_\+square} & Cilove pole (0-\/63) \\
\hline
\end{DoxyParams}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00596}{596}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_ad81a1142e821938e81029ad1d88f57d7}\index{matrix\_task.c@{matrix\_task.c}!matrix\_detect\_moves@{matrix\_detect\_moves}}
\index{matrix\_detect\_moves@{matrix\_detect\_moves}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_detect\_moves()}{matrix\_detect\_moves()}}
{\footnotesize\ttfamily \label{matrix__task_8c_ad81a1142e821938e81029ad1d88f57d7} 
void matrix\+\_\+detect\+\_\+moves (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Detekuj tahy z matice. 

Hleda prechody 1-\/\texorpdfstring{$>$}{>}0 (figurka zvednuta) a 0-\/\texorpdfstring{$>$}{>}1 (figurka polozena) a generuje maticove udalosti. 

Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00517}{517}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a62798e0c14260b016d8d1739dedc2056}\index{matrix\_task.c@{matrix\_task.c}!matrix\_get\_state@{matrix\_get\_state}}
\index{matrix\_get\_state@{matrix\_get\_state}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_get\_state()}{matrix\_get\_state()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a62798e0c14260b016d8d1739dedc2056} 
void matrix\+\_\+get\+\_\+state (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{state\+\_\+buffer}{}\end{DoxyParamCaption})}



Ziskej stav matice. 


\begin{DoxyParams}[1]{Parametry}
\mbox{\texttt{out}}  & {\em state\+\_\+buffer} & Buffer pro 64-\/prvkove pole stavu (1 = piece, 0 = empty) \\
\hline
\end{DoxyParams}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00643}{643}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a7401a07900074895370aa1ba67a95c56}\index{matrix\_task.c@{matrix\_task.c}!matrix\_notation\_to\_square@{matrix\_notation\_to\_square}}
\index{matrix\_notation\_to\_square@{matrix\_notation\_to\_square}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_notation\_to\_square()}{matrix\_notation\_to\_square()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a7401a07900074895370aa1ba67a95c56} 
uint8\+\_\+t matrix\+\_\+notation\+\_\+to\+\_\+square (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{notation}{}\end{DoxyParamCaption})}



Prevede sachovou notaci na cislo pole. 


\begin{DoxyParams}{Parametry}
{\em notation} & Sachova notace (napr. "{}e2"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
Cislo pole (0-\/63) 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00626}{626}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a4ffeb65e7984e50f1ad65b6a92c304cf}\index{matrix\_task.c@{matrix\_task.c}!matrix\_pins\_released@{matrix\_pins\_released}}
\index{matrix\_pins\_released@{matrix\_pins\_released}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_pins\_released()}{matrix\_pins\_released()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a4ffeb65e7984e50f1ad65b6a92c304cf} 
bool matrix\+\_\+pins\+\_\+released (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Overi zda jsou matrix piny uvolnene. 

Overi zda jsou matrix piny uvolnene pro button scan.

\begin{DoxyReturn}{Návratová hodnota}
true pokud jsou vsechny row piny HIGH (uvolnene) 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00859}{859}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a4879f19808c12282ff427342dfea0f12}\index{matrix\_task.c@{matrix\_task.c}!matrix\_print\_state@{matrix\_print\_state}}
\index{matrix\_print\_state@{matrix\_print\_state}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_print\_state()}{matrix\_print\_state()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a4879f19808c12282ff427342dfea0f12} 
void matrix\+\_\+print\+\_\+state (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Vypis aktualni stav matice. 

Vypise 8x8 matici s aktualni stav vsech poli (0 = prazdne, 1 = figurka). 

Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00651}{651}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a60eff3fc23741f64ce1c24d5d556906b}\index{matrix\_task.c@{matrix\_task.c}!matrix\_process\_commands@{matrix\_process\_commands}}
\index{matrix\_process\_commands@{matrix\_process\_commands}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_process\_commands()}{matrix\_process\_commands()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a60eff3fc23741f64ce1c24d5d556906b} 
void matrix\+\_\+process\+\_\+commands (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Zpracuj matrix prikazy z fronty. 

Cte prikazy z matrix\+\_\+command\+\_\+queue a vykonava je (scan, reset, test, calibrate, enable/disable). 

Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00748}{748}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a9afd14fa75a6cfa6e37480b4935cd285}\index{matrix\_task.c@{matrix\_task.c}!matrix\_release\_pins@{matrix\_release\_pins}}
\index{matrix\_release\_pins@{matrix\_release\_pins}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_release\_pins()}{matrix\_release\_pins()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a9afd14fa75a6cfa6e37480b4935cd285} 
void matrix\+\_\+release\+\_\+pins (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Uvolni matrix row piny pro button scanning. 

Nastavi vsechny row piny na HIGH (neaktivni stav) aby button task mohl cist column piny bez interference.

Tato funkce je volana pred button scan window (20-\/25ms). Vsechny row piny jsou nastaveny na HIGH (pulled up) takze column piny mohou byt bezpecne cteny pro button detection. 

Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00827}{827}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_aa7161ac2bf0076cc5ddfc91270c2bd34}\index{matrix\_task.c@{matrix\_task.c}!matrix\_reset@{matrix\_reset}}
\index{matrix\_reset@{matrix\_reset}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_reset()}{matrix\_reset()}}
{\footnotesize\ttfamily \label{matrix__task_8c_aa7161ac2bf0076cc5ddfc91270c2bd34} 
void matrix\+\_\+reset (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Resetuj stav matice. 

Vymaze vsechny vnitrni stavy matice a resetuje detekci tahu. 

Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00792}{792}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a86518ffc745875b5c3c34d7c96f7e186}\index{matrix\_task.c@{matrix\_task.c}!matrix\_scan\_all@{matrix\_scan\_all}}
\index{matrix\_scan\_all@{matrix\_scan\_all}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_scan\_all()}{matrix\_scan\_all()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a86518ffc745875b5c3c34d7c96f7e186} 
void matrix\+\_\+scan\+\_\+all (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Oskenuj celou matici. 

Oskenuje vsech 8 radku matice a detekuje zmeny stavu. Pouziva mutex pro thread-\/safe pristup ke stavu matice. 

Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00327}{327}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a395c914a55ec3ebc25a3a3af66d6bba8}\index{matrix\_task.c@{matrix\_task.c}!matrix\_scan\_row@{matrix\_scan\_row}}
\index{matrix\_scan\_row@{matrix\_scan\_row}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_scan\_row()}{matrix\_scan\_row()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a395c914a55ec3ebc25a3a3af66d6bba8} 
void matrix\+\_\+scan\+\_\+row (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{row}{}\end{DoxyParamCaption})}



Oskenuj jeden radek matice. 

Nastavi radkovy pin na HIGH, precte vsechny sloupcove piny a aktualizuje stav matice pro tento radek.


\begin{DoxyParams}{Parametry}
{\em row} & Radek k oskenovani (0-\/7) \\
\hline
\end{DoxyParams}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00309}{309}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a2a57a5bda73ab9817a44c3c5702932f3}\index{matrix\_task.c@{matrix\_task.c}!matrix\_scan\_row\_internal@{matrix\_scan\_row\_internal}}
\index{matrix\_scan\_row\_internal@{matrix\_scan\_row\_internal}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_scan\_row\_internal()}{matrix\_scan\_row\_internal()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a2a57a5bda73ab9817a44c3c5702932f3} 
void matrix\+\_\+scan\+\_\+row\+\_\+internal (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{row}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Skenuje jeden radek matice (interni funkce bez mutexu). 

Tato funkce skenuje jeden radek 8x8 reed switch matice. Pred skenovanim nastavi vsechny row piny na HIGH (neaktivni), pak aktivuje aktualni radek nastavenim na LOW, ceka 5 ms pro stabilizaci signalu, precte column piny a nastavi radek zpet na HIGH.


\begin{DoxyParams}{Parametry}
{\em row} & Cislo radku (0-\/7)\\
\hline
\end{DoxyParams}
Hardware logika\+:
\begin{DoxyItemize}
\item Row piny jsou DRIVE (vystupni) -\/ aktivne nastavujes stav
\item Column piny jsou SENSE (vstupni s pull-\/up) -\/ ctes je
\item Aktivni row = LOW (stahne column pin na LOW pokud je figurka/reed switch uzavreny)
\item Neaktivni row = HIGH (column pin zustane HIGH pokud neni figurka)
\end{DoxyItemize}

Pred aktivaci aktualniho radku se vsechny row piny nastavi na HIGH. Toto zajistuje, ze ostatni row piny nebudou interferovat s ctenim column pinu. Bez tohoto by figurkami v jednom sloupci na ruznych radcich mohly zpusobit falesnou detekci (pokud by row pin zustal LOW, column pin by byl LOW i kdyz skenujeme jiny radek).

Stabilizacni cekani\+: Po aktivaci row pinu na LOW se ceka 5 ms pro spravne ustaleni napetoveho stavu. Bez tohoto cekani by mohlo dochazet k nespravnemu cteni stavu column pinu kvuli elektromagnetickym interferencim a kapacitnim efektum.

\begin{DoxyNote}{Poznámka}
Volajici musi drzet matrix\+\_\+mutex pred volanim teto funkce 
\end{DoxyNote}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00241}{241}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a0684c1516035306b49514c47a1af0fed}\index{matrix\_task.c@{matrix\_task.c}!matrix\_send\_drop\_command@{matrix\_send\_drop\_command}}
\index{matrix\_send\_drop\_command@{matrix\_send\_drop\_command}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_send\_drop\_command()}{matrix\_send\_drop\_command()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a0684c1516035306b49514c47a1af0fed} 
void matrix\+\_\+send\+\_\+drop\+\_\+command (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{square}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Helper function to send DROP command to game\+\_\+command\+\_\+queue. 


\begin{DoxyParams}{Parametry}
{\em square} & Square index (0-\/63) \\
\hline
\end{DoxyParams}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00450}{450}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a275f664c60af320845973b221bd1db55}\index{matrix\_task.c@{matrix\_task.c}!matrix\_send\_drop\_command\_with\_from@{matrix\_send\_drop\_command\_with\_from}}
\index{matrix\_send\_drop\_command\_with\_from@{matrix\_send\_drop\_command\_with\_from}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_send\_drop\_command\_with\_from()}{matrix\_send\_drop\_command\_with\_from()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a275f664c60af320845973b221bd1db55} 
void matrix\+\_\+send\+\_\+drop\+\_\+command\+\_\+with\+\_\+from (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{from\+\_\+square}{, }\item[{uint8\+\_\+t}]{to\+\_\+square}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Helper function to send DROP command with from/to notation to game\+\_\+command\+\_\+queue. 


\begin{DoxyParams}{Parametry}
{\em from\+\_\+square} & Source square index (0-\/63) \\
\hline
{\em to\+\_\+square} & Destination square index (0-\/63) \\
\hline
\end{DoxyParams}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00484}{484}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_ae622813bcd8b41c1040db3a6c8d34e13}\index{matrix\_task.c@{matrix\_task.c}!matrix\_send\_pickup\_command@{matrix\_send\_pickup\_command}}
\index{matrix\_send\_pickup\_command@{matrix\_send\_pickup\_command}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_send\_pickup\_command()}{matrix\_send\_pickup\_command()}}
{\footnotesize\ttfamily \label{matrix__task_8c_ae622813bcd8b41c1040db3a6c8d34e13} 
void matrix\+\_\+send\+\_\+pickup\+\_\+command (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{square}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Helper function to send PICKUP command to game\+\_\+command\+\_\+queue. 


\begin{DoxyParams}{Parametry}
{\em square} & Square index (0-\/63) \\
\hline
\end{DoxyParams}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00418}{418}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_ac791c32154297e3ceebd47d8096cc8b9}\index{matrix\_task.c@{matrix\_task.c}!matrix\_simulate\_move@{matrix\_simulate\_move}}
\index{matrix\_simulate\_move@{matrix\_simulate\_move}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_simulate\_move()}{matrix\_simulate\_move()}}
{\footnotesize\ttfamily \label{matrix__task_8c_ac791c32154297e3ceebd47d8096cc8b9} 
void matrix\+\_\+simulate\+\_\+move (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{from}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{to}{}\end{DoxyParamCaption})}



Simuluj tah v matici. 

Pro testovani -\/ simuluje zvednutí figurky z jednoho pole a polozeni na jine pole.


\begin{DoxyParams}{Parametry}
{\em from} & Zdrojova sachova notace (napr. "{}e2"{}) \\
\hline
{\em to} & Cilova sachova notace (napr. "{}e4"{}) \\
\hline
\end{DoxyParams}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00721}{721}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_ab2ee938ff9e39dbaeed9729d194db94a}\index{matrix\_task.c@{matrix\_task.c}!matrix\_square\_to\_notation@{matrix\_square\_to\_notation}}
\index{matrix\_square\_to\_notation@{matrix\_square\_to\_notation}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_square\_to\_notation()}{matrix\_square\_to\_notation()}}
{\footnotesize\ttfamily \label{matrix__task_8c_ab2ee938ff9e39dbaeed9729d194db94a} 
void matrix\+\_\+square\+\_\+to\+\_\+notation (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{square}{, }\item[{char \texorpdfstring{$\ast$}{*}}]{notation}{}\end{DoxyParamCaption})}



Prevede cislo pole na sachovou notaci. 


\begin{DoxyParams}[1]{Parametry}
 & {\em square} & Cislo pole (0-\/63) \\
\hline
\mbox{\texttt{out}}  & {\em notation} & Vystupni buffer pro notaci (min. 3 znaky) \\
\hline
\end{DoxyParams}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00614}{614}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a61e7f4685d87d40d712b5de9b8d22222}\index{matrix\_task.c@{matrix\_task.c}!matrix\_task\_start@{matrix\_task\_start}}
\index{matrix\_task\_start@{matrix\_task\_start}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_task\_start()}{matrix\_task\_start()}}
{\footnotesize\ttfamily \label{matrix__task_8c_a61e7f4685d87d40d712b5de9b8d22222} 
void matrix\+\_\+task\+\_\+start (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{pv\+Parameters}{}\end{DoxyParamCaption})}



Spusti matrix task. 

Hlavni funkce matrix tasku. Bezi v nekonecne smycce a zpracovava skenovani matice kazdych 1ms. Detekuje pohyb figurek a generuje udalosti.


\begin{DoxyParams}{Parametry}
{\em pv\+Parameters} & Parametry tasku (nepouzivane) \\
\hline
\end{DoxyParams}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00873}{873}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_ad3ad65033f5eaaf1b607d806e212fe50}\index{matrix\_task.c@{matrix\_task.c}!matrix\_task\_wdt\_reset\_safe@{matrix\_task\_wdt\_reset\_safe}}
\index{matrix\_task\_wdt\_reset\_safe@{matrix\_task\_wdt\_reset\_safe}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_task\_wdt\_reset\_safe()}{matrix\_task\_wdt\_reset\_safe()}}
{\footnotesize\ttfamily \label{matrix__task_8c_ad3ad65033f5eaaf1b607d806e212fe50} 
esp\+\_\+err\+\_\+t matrix\+\_\+task\+\_\+wdt\+\_\+reset\+\_\+safe (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Bezpecny reset WDT s logovanim WARNING misto ERROR pro ESP\+\_\+\+ERR\+\_\+\+NOT\+\_\+\+FOUND. 

\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pokud uspesne, ESP\+\_\+\+ERR\+\_\+\+NOT\+\_\+\+FOUND pokud task neni registrovany (WARNING pouze)
\end{DoxyReturn}
Funkce je pouzivana pro bezpecny reset watchdog timeru behem matrix operaci. Zabranuje chybam pri startupu kdy task jeste neni registrovany. 

Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00145}{145}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_af455a307ac1bd0e33a3c213d3a5889e3}\index{matrix\_task.c@{matrix\_task.c}!matrix\_test\_scanning@{matrix\_test\_scanning}}
\index{matrix\_test\_scanning@{matrix\_test\_scanning}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_test\_scanning()}{matrix\_test\_scanning()}}
{\footnotesize\ttfamily \label{matrix__task_8c_af455a307ac1bd0e33a3c213d3a5889e3} 
void matrix\+\_\+test\+\_\+scanning (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00675}{675}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.



\label{doc-var-members}
\Hypertarget{matrix__task_8c_doc-var-members}
\doxysubsection{Dokumentace proměnných}
\Hypertarget{matrix__task_8c_a859ec6ecf084e6271c6b99fb28f6be94}\index{matrix\_task.c@{matrix\_task.c}!current\_pattern@{current\_pattern}}
\index{current\_pattern@{current\_pattern}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{current\_pattern}{current\_pattern}}
{\footnotesize\ttfamily \label{matrix__task_8c_a859ec6ecf084e6271c6b99fb28f6be94} 
uint8\+\_\+t current\+\_\+pattern = 1\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00204}{204}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_aeccb1670596f160cce0ab5caec367e05}\index{matrix\_task.c@{matrix\_task.c}!current\_row@{current\_row}}
\index{current\_row@{current\_row}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{current\_row}{current\_row}}
{\footnotesize\ttfamily \label{matrix__task_8c_aeccb1670596f160cce0ab5caec367e05} 
uint8\+\_\+t current\+\_\+row = 0\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00178}{178}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a25428bbb3212a5e17896b6f0de83ca2f}\index{matrix\_task.c@{matrix\_task.c}!last\_piece\_lifted@{last\_piece\_lifted}}
\index{last\_piece\_lifted@{last\_piece\_lifted}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{last\_piece\_lifted}{last\_piece\_lifted}}
{\footnotesize\ttfamily \label{matrix__task_8c_a25428bbb3212a5e17896b6f0de83ca2f} 
uint8\+\_\+t last\+\_\+piece\+\_\+lifted = 255\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00183}{183}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a41dfccc3e986ded30a04de8de37d251f}\index{matrix\_task.c@{matrix\_task.c}!last\_piece\_placed@{last\_piece\_placed}}
\index{last\_piece\_placed@{last\_piece\_placed}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{last\_piece\_placed}{last\_piece\_placed}}
{\footnotesize\ttfamily \label{matrix__task_8c_a41dfccc3e986ded30a04de8de37d251f} 
uint8\+\_\+t last\+\_\+piece\+\_\+placed = 255\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00184}{184}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a830cb4e3e4e340d70981f59ced6381fd}\index{matrix\_task.c@{matrix\_task.c}!last\_scan\_time@{last\_scan\_time}}
\index{last\_scan\_time@{last\_scan\_time}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{last\_scan\_time}{last\_scan\_time}}
{\footnotesize\ttfamily \label{matrix__task_8c_a830cb4e3e4e340d70981f59ced6381fd} 
uint32\+\_\+t last\+\_\+scan\+\_\+time = 0\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00179}{179}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_aa6b75ccca141dbb71ab2e190fc56078b}\index{matrix\_task.c@{matrix\_task.c}!matrix\_changes@{matrix\_changes}}
\index{matrix\_changes@{matrix\_changes}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_changes}{matrix\_changes}}
{\footnotesize\ttfamily \label{matrix__task_8c_aa6b75ccca141dbb71ab2e190fc56078b} 
uint8\+\_\+t matrix\+\_\+changes\mbox{[}64\mbox{]} = \{0\}\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00169}{169}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_add49e624d0cc3921ffa016066be0f462}\index{matrix\_task.c@{matrix\_task.c}!matrix\_previous@{matrix\_previous}}
\index{matrix\_previous@{matrix\_previous}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_previous}{matrix\_previous}}
{\footnotesize\ttfamily \label{matrix__task_8c_add49e624d0cc3921ffa016066be0f462} 
uint8\+\_\+t matrix\+\_\+previous\mbox{[}64\mbox{]} = \{0\}\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00168}{168}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_ac4220888456a96a1308bbf06df3730b8}\index{matrix\_task.c@{matrix\_task.c}!matrix\_scanning\_enabled@{matrix\_scanning\_enabled}}
\index{matrix\_scanning\_enabled@{matrix\_scanning\_enabled}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_scanning\_enabled}{matrix\_scanning\_enabled}}
{\footnotesize\ttfamily \label{matrix__task_8c_ac4220888456a96a1308bbf06df3730b8} 
bool matrix\+\_\+scanning\+\_\+enabled = true}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00174}{174}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a3a1805bac344d932f67d863f671240d1}\index{matrix\_task.c@{matrix\_task.c}!matrix\_state@{matrix\_state}}
\index{matrix\_state@{matrix\_state}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{matrix\_state}{matrix\_state}}
{\footnotesize\ttfamily \label{matrix__task_8c_a3a1805bac344d932f67d863f671240d1} 
uint8\+\_\+t matrix\+\_\+state\mbox{[}64\mbox{]} = \{0\}\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00167}{167}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a001592c98e5a19d78635751717390918}\index{matrix\_task.c@{matrix\_task.c}!move\_detection\_timeout@{move\_detection\_timeout}}
\index{move\_detection\_timeout@{move\_detection\_timeout}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{move\_detection\_timeout}{move\_detection\_timeout}}
{\footnotesize\ttfamily \label{matrix__task_8c_a001592c98e5a19d78635751717390918} 
uint32\+\_\+t move\+\_\+detection\+\_\+timeout = 0\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00185}{185}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}\index{matrix\_task.c@{matrix\_task.c}!scan\_count@{scan\_count}}
\index{scan\_count@{scan\_count}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{scan\_count}{scan\_count}}
{\footnotesize\ttfamily \label{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70} 
uint32\+\_\+t scan\+\_\+count = 0\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00180}{180}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a740a5ff73f18495856ddbc99ad099a6b}\index{matrix\_task.c@{matrix\_task.c}!simulation\_mode@{simulation\_mode}}
\index{simulation\_mode@{simulation\_mode}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{simulation\_mode}{simulation\_mode}}
{\footnotesize\ttfamily \label{matrix__task_8c_a740a5ff73f18495856ddbc99ad099a6b} 
bool simulation\+\_\+mode = false\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00173}{173}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_abc6d07b73f387c902d6c85c33e923cfa}\index{matrix\_task.c@{matrix\_task.c}!simulation\_patterns@{simulation\_patterns}}
\index{simulation\_patterns@{simulation\_patterns}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{simulation\_patterns}{simulation\_patterns}}
{\footnotesize\ttfamily \label{matrix__task_8c_abc6d07b73f387c902d6c85c33e923cfa} 
const uint8\+\_\+t simulation\+\_\+patterns\mbox{[}$\,$\mbox{]}\mbox{[}64\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Inicializační hodnota\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{\ \ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{\ \ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0\},}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{\ \ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{\ \ \ \ \ 0,\ 0,\ 0,\ 0,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2\},}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 1,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{\ \ \ \ \ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,\ 0,}
\DoxyCodeLine{\ \ \ \ \ 0,\ 0,\ 0,\ 0,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2,\ 2\}\}}

\end{DoxyCode}


Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00188}{188}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}\index{matrix\_task.c@{matrix\_task.c}!TAG@{TAG}}
\index{TAG@{TAG}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{TAG}{TAG}}
{\footnotesize\ttfamily \label{matrix__task_8c_a5a85b9c772bbeb480b209a3e6ea92b4c} 
const char\texorpdfstring{$\ast$}{*} TAG = "{}MATRIX\+\_\+\+TASK"{}\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00128}{128}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

\Hypertarget{matrix__task_8c_a35141cb45623cb3b7b4d96da35ed1831}\index{matrix\_task.c@{matrix\_task.c}!task\_running@{task\_running}}
\index{task\_running@{task\_running}!matrix\_task.c@{matrix\_task.c}}
\doxysubsubsection{\texorpdfstring{task\_running}{task\_running}}
{\footnotesize\ttfamily \label{matrix__task_8c_a35141cb45623cb3b7b4d96da35ed1831} 
bool task\+\_\+running = false\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{matrix__task_8c_source_l00172}{172}} v souboru \mbox{\hyperlink{matrix__task_8c_source}{matrix\+\_\+task.\+c}}.

