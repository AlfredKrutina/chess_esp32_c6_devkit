\doxysection{Dokumentace souboru streaming\+\_\+output.\+c}
\hypertarget{streaming__output_8c}{}\label{streaming__output_8c}\index{streaming\_output.c@{streaming\_output.c}}


ESP32-\/\+C6 Chess System -\/ Streaming Output System.  


{\ttfamily \#include "{}freertos/\+Free\+RTOS.\+h"{}}\newline
{\ttfamily \#include "{}freertos/semphr.\+h"{}}\newline
{\ttfamily \#include "{}freertos/task.\+h"{}}\newline
{\ttfamily \#include "{}freertos/queue.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+log.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+task\+\_\+wdt.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+err.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+timer.\+h"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdarg.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include "{}streaming\+\_\+output.\+h"{}}\newline
{\ttfamily \#include "{}chess\+\_\+types.\+h"{}}\newline
{\ttfamily \#include "{}led\+\_\+mapping.\+h"{}}\newline
Graf závislostí na vkládaných souborech pro streaming\+\_\+output.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{streaming__output_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Funkce}
\begin{DoxyCompactItemize}
\item 
static esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a1952cdd16ea597f54d90ff99e53612f6}{stream\+\_\+write\+\_\+uart}} (const char \texorpdfstring{$\ast$}{*}data, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Zapis dat do UART/\+USB Serial JTAG. \end{DoxyCompactList}\item 
static esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a230e6d355273f51e78c3de12e22c7736}{stream\+\_\+write\+\_\+web}} (const char \texorpdfstring{$\ast$}{*}data, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Zapis dat do web serveru. \end{DoxyCompactList}\item 
static esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a0e07c8570098aa75ba738a5f7c361080}{stream\+\_\+write\+\_\+queue}} (const char \texorpdfstring{$\ast$}{*}data, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Zapis dat do Free\+RTOS fronty. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a5ce23c8be43f17f9b75c37d63fdb7eac}{streaming\+\_\+output\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Inicializuj streaming output system. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{streaming__output_8c_a936645e3895fd2cd3cda93e2b9302a4d}{streaming\+\_\+output\+\_\+deinit}} (void)
\begin{DoxyCompactList}\small\item\em Deinicializuj streaming output system. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a8aa67921edc9b4e0c2ffcf2660a96982}{streaming\+\_\+set\+\_\+uart\+\_\+output}} (int uart\+\_\+port)
\begin{DoxyCompactList}\small\item\em Nastav UART jako vystupni cil. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_aae842b19f1975942c5b3674cb42fbddb}{streaming\+\_\+set\+\_\+web\+\_\+output}} (void \texorpdfstring{$\ast$}{*}web\+\_\+client)
\begin{DoxyCompactList}\small\item\em Nastav web klienta jako vystupni cil. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_aca427711530c81651095df3f70106d66}{streaming\+\_\+set\+\_\+queue\+\_\+output}} (Queue\+Handle\+\_\+t queue)
\begin{DoxyCompactList}\small\item\em Nastav Free\+RTOS frontu jako vystupni cil. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a951feaae516472ce834f088013ea4bc4}{stream\+\_\+printf}} (const char \texorpdfstring{$\ast$}{*}format,...)
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a2c7a31a7ff9caa7a3f2d9d84b1747377}{stream\+\_\+write}} (const char \texorpdfstring{$\ast$}{*}data, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Zapis surova data do aktualniho vystupniho proudu. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a81bb5955edffac0083f39e3114c99386}{stream\+\_\+writeln}} (const char \texorpdfstring{$\ast$}{*}data)
\begin{DoxyCompactList}\small\item\em Zapis retezec s koncem radku do aktualniho vystupniho proudu. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_aee33cf86bf19206f11756f9e94544b6d}{stream\+\_\+flush}} (void)
\begin{DoxyCompactList}\small\item\em Flush vystupni proud. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a1435caf264b122a887df306e6b1b9d11}{stream\+\_\+set\+\_\+auto\+\_\+flush}} (bool enabled)
\begin{DoxyCompactList}\small\item\em Zapni/vypni automaticky flush po kazdem zapisu. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a9173e4c76c40d5e2c7aeb6e63bd4cb31}{stream\+\_\+set\+\_\+line\+\_\+ending}} (\mbox{\hyperlink{streaming__output_8h_affdaded1b69ffceddaa030802cd994a8}{stream\+\_\+line\+\_\+ending\+\_\+t}} ending)
\begin{DoxyCompactList}\small\item\em Nastav typ konce radku pro writeln operace. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a59f0895b69aa9d69a3386adbc8f6c6e5}{stream\+\_\+board\+\_\+header}} (void)
\begin{DoxyCompactList}\small\item\em Streamuj hlavicku sachovnice (popisky sloupcu a horni okraj). \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_aeee82161b919e7c2993a0a40b564cf9f}{stream\+\_\+board\+\_\+row}} (int row, const char \texorpdfstring{$\ast$}{*}pieces)
\begin{DoxyCompactList}\small\item\em Streamuj jeden radek sachovnice. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_ab702b0aa249cc6463ecd01db54bea295}{stream\+\_\+board\+\_\+footer}} (void)
\begin{DoxyCompactList}\small\item\em Streamuj paticku sachovnice (spodni okraj a popisky sloupcu). \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a2bf893bcdd558c5d065c5b2dba1b369c}{stream\+\_\+led\+\_\+board\+\_\+header}} (void)
\begin{DoxyCompactList}\small\item\em Streamuj hlavicku LED sachovnice s emoji indikatory. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{streaming__output_8c_a812ce05742f894755d8b5d0b14019776}{stream\+\_\+led\+\_\+board\+\_\+row}} (int row, const uint32\+\_\+t \texorpdfstring{$\ast$}{*}led\+\_\+colors)
\begin{DoxyCompactList}\small\item\em Streamuj jeden radek LED sachovnice s barevnymi emoji indikatory. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{streaming__output_8c_a2be8864cdaed57fd8249185a4ade538f}{streaming\+\_\+print\+\_\+stats}} (void)
\begin{DoxyCompactList}\small\item\em Vypis statistiky streaming vystupu do logu. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structstreaming__stats__t}{streaming\+\_\+stats\+\_\+t}} \mbox{\hyperlink{streaming__output_8c_aad4c641177bba008c8ec5c0a0265ac7c}{streaming\+\_\+get\+\_\+stats}} (void)
\begin{DoxyCompactList}\small\item\em Ziskej statistiky streaming vystupu. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{streaming__output_8c_acf5e7d713d834d6fb513201f5f761582}{streaming\+\_\+reset\+\_\+stats}} (void)
\begin{DoxyCompactList}\small\item\em Resetuj vsechny statisticke citace. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{streaming__output_8c_a251a50a8653a9c02de813b176cfa1718}{streaming\+\_\+is\+\_\+healthy}} (void)
\begin{DoxyCompactList}\small\item\em Overi zda je streaming output system ve zdravem stavu. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Proměnné}
\begin{DoxyCompactItemize}
\item 
static const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{streaming__output_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}} = "{}STREAMING\+\_\+\+OUT"{}
\item 
static Semaphore\+Handle\+\_\+t \mbox{\hyperlink{streaming__output_8c_aa8255bd6562ac594bf8c271b0af18629}{streaming\+\_\+mutex}} = NULL
\item 
static bool \mbox{\hyperlink{streaming__output_8c_ab2336e816f0a31f0e3e85fba396e4340}{system\+\_\+initialized}} = false
\item 
static \mbox{\hyperlink{structstreaming__stats__t}{streaming\+\_\+stats\+\_\+t}} \mbox{\hyperlink{streaming__output_8c_acdc2beab71d64ed93f6bf73699e3a8f9}{stats}} = \{0\}
\item 
static \mbox{\hyperlink{structstreaming__output__t}{streaming\+\_\+output\+\_\+t}} \mbox{\hyperlink{streaming__output_8c_af1926ad29634d13b1230a971167e3277}{current\+\_\+output}}
\end{DoxyCompactItemize}


\doxysubsection{Detailní popis}
ESP32-\/\+C6 Chess System -\/ Streaming Output System. 

Nahrazuje velke string building priamym streaming vystupem pro\+:
\begin{DoxyItemize}
\item Eliminaci potreby velkych bufferu (2KB+ stringy)
\item Snizeni memory pressure a fragmentace
\item Umožneni real-\/time vystupu pro lepsi uzivatelsky zazitek
\item Podporu jak UART tak budoucich web server vystupu
\end{DoxyItemize}

\begin{DoxyAuthor}{Autor}
Alfred Krutina 
\end{DoxyAuthor}
\begin{DoxyVersion}{Verze}
2.\+4 
\end{DoxyVersion}
\begin{DoxyDate}{Datum}
2025-\/01-\/27
\end{DoxyDate}
Streaming Output System je system pro efektivni vypis velkych textu. Misto budovani velkych stringu posila data primo do vystupu, coz eliminuje potrebu velkych bufferu a zlepsuje performance. 

Definice v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.



\label{doc-func-members}
\Hypertarget{streaming__output_8c_doc-func-members}
\doxysubsection{Dokumentace funkcí}
\Hypertarget{streaming__output_8c_ab702b0aa249cc6463ecd01db54bea295}\index{streaming\_output.c@{streaming\_output.c}!stream\_board\_footer@{stream\_board\_footer}}
\index{stream\_board\_footer@{stream\_board\_footer}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_board\_footer()}{stream\_board\_footer()}}
{\footnotesize\ttfamily \label{streaming__output_8c_ab702b0aa249cc6463ecd01db54bea295} 
esp\+\_\+err\+\_\+t stream\+\_\+board\+\_\+footer (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Streamuj paticku sachovnice (spodni okraj a popisky sloupcu). 

\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, chybovy kod pri selhani 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00459}{459}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a59f0895b69aa9d69a3386adbc8f6c6e5}\index{streaming\_output.c@{streaming\_output.c}!stream\_board\_header@{stream\_board\_header}}
\index{stream\_board\_header@{stream\_board\_header}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_board\_header()}{stream\_board\_header()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a59f0895b69aa9d69a3386adbc8f6c6e5} 
esp\+\_\+err\+\_\+t stream\+\_\+board\+\_\+header (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Streamuj hlavicku sachovnice (popisky sloupcu a horni okraj). 

\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, chybovy kod pri selhani 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00423}{423}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_aeee82161b919e7c2993a0a40b564cf9f}\index{streaming\_output.c@{streaming\_output.c}!stream\_board\_row@{stream\_board\_row}}
\index{stream\_board\_row@{stream\_board\_row}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_board\_row()}{stream\_board\_row()}}
{\footnotesize\ttfamily \label{streaming__output_8c_aeee82161b919e7c2993a0a40b564cf9f} 
esp\+\_\+err\+\_\+t stream\+\_\+board\+\_\+row (\begin{DoxyParamCaption}\item[{int}]{row}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{pieces}{}\end{DoxyParamCaption})}



Streamuj jeden radek sachovnice. 


\begin{DoxyParams}{Parametry}
{\em row} & Cislo radku (0-\/7, kde 0=rank 1, 7=rank 8) \\
\hline
{\em pieces} & Retezec 8 znaku reprezentujicich figurky v tomto radku \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, chybovy kod pri selhani 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00433}{433}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_aee33cf86bf19206f11756f9e94544b6d}\index{streaming\_output.c@{streaming\_output.c}!stream\_flush@{stream\_flush}}
\index{stream\_flush@{stream\_flush}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_flush()}{stream\_flush()}}
{\footnotesize\ttfamily \label{streaming__output_8c_aee33cf86bf19206f11756f9e94544b6d} 
esp\+\_\+err\+\_\+t stream\+\_\+flush (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Flush vystupni proud. 

Zajisti ze vsechna data jsou poslana do vystupu.

\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, chybovy kod pri selhani 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00373}{373}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a2bf893bcdd558c5d065c5b2dba1b369c}\index{streaming\_output.c@{streaming\_output.c}!stream\_led\_board\_header@{stream\_led\_board\_header}}
\index{stream\_led\_board\_header@{stream\_led\_board\_header}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_led\_board\_header()}{stream\_led\_board\_header()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a2bf893bcdd558c5d065c5b2dba1b369c} 
esp\+\_\+err\+\_\+t stream\+\_\+led\+\_\+board\+\_\+header (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Streamuj hlavicku LED sachovnice s emoji indikatory. 

\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, chybovy kod pri selhani 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00469}{469}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a812ce05742f894755d8b5d0b14019776}\index{streaming\_output.c@{streaming\_output.c}!stream\_led\_board\_row@{stream\_led\_board\_row}}
\index{stream\_led\_board\_row@{stream\_led\_board\_row}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_led\_board\_row()}{stream\_led\_board\_row()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a812ce05742f894755d8b5d0b14019776} 
esp\+\_\+err\+\_\+t stream\+\_\+led\+\_\+board\+\_\+row (\begin{DoxyParamCaption}\item[{int}]{row}{, }\item[{const uint32\+\_\+t \texorpdfstring{$\ast$}{*}}]{led\+\_\+colors}{}\end{DoxyParamCaption})}



Streamuj jeden radek LED sachovnice s barevnymi emoji indikatory. 


\begin{DoxyParams}{Parametry}
{\em row} & Cislo radku (0-\/7) \\
\hline
{\em led\+\_\+colors} & Pole 64 LED barev (RGB hodnoty) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, chybovy kod pri selhani 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00482}{482}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a951feaae516472ce834f088013ea4bc4}\index{streaming\_output.c@{streaming\_output.c}!stream\_printf@{stream\_printf}}
\index{stream\_printf@{stream\_printf}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_printf()}{stream\_printf()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a951feaae516472ce834f088013ea4bc4} 
esp\+\_\+err\+\_\+t stream\+\_\+printf (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{format}{, }\item[{}]{...}{}\end{DoxyParamCaption})}



Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00178}{178}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a1435caf264b122a887df306e6b1b9d11}\index{streaming\_output.c@{streaming\_output.c}!stream\_set\_auto\_flush@{stream\_set\_auto\_flush}}
\index{stream\_set\_auto\_flush@{stream\_set\_auto\_flush}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_set\_auto\_flush()}{stream\_set\_auto\_flush()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a1435caf264b122a887df306e6b1b9d11} 
esp\+\_\+err\+\_\+t stream\+\_\+set\+\_\+auto\+\_\+flush (\begin{DoxyParamCaption}\item[{bool}]{enabled}{}\end{DoxyParamCaption})}



Zapni/vypni automaticky flush po kazdem zapisu. 


\begin{DoxyParams}{Parametry}
{\em enabled} & true pro zapnuti auto-\/flush, false pro vypnuti \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00387}{387}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a9173e4c76c40d5e2c7aeb6e63bd4cb31}\index{streaming\_output.c@{streaming\_output.c}!stream\_set\_line\_ending@{stream\_set\_line\_ending}}
\index{stream\_set\_line\_ending@{stream\_set\_line\_ending}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_set\_line\_ending()}{stream\_set\_line\_ending()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a9173e4c76c40d5e2c7aeb6e63bd4cb31} 
esp\+\_\+err\+\_\+t stream\+\_\+set\+\_\+line\+\_\+ending (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{streaming__output_8h_affdaded1b69ffceddaa030802cd994a8}{stream\+\_\+line\+\_\+ending\+\_\+t}}}]{ending}{}\end{DoxyParamCaption})}



Nastav typ konce radku pro writeln operace. 


\begin{DoxyParams}{Parametry}
{\em ending} & Typ konce radku (STREAM\+\_\+\+LF nebo STREAM\+\_\+\+CRLF) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00403}{403}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a2c7a31a7ff9caa7a3f2d9d84b1747377}\index{streaming\_output.c@{streaming\_output.c}!stream\_write@{stream\_write}}
\index{stream\_write@{stream\_write}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_write()}{stream\_write()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a2c7a31a7ff9caa7a3f2d9d84b1747377} 
esp\+\_\+err\+\_\+t stream\+\_\+write (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{size\+\_\+t}]{len}{}\end{DoxyParamCaption})}



Zapis surova data do aktualniho vystupniho proudu. 


\begin{DoxyParams}{Parametry}
{\em data} & Data k zapsani \\
\hline
{\em len} & Delka dat v bajtech \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, chybovy kod pri selhani 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00205}{205}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a0e07c8570098aa75ba738a5f7c361080}\index{streaming\_output.c@{streaming\_output.c}!stream\_write\_queue@{stream\_write\_queue}}
\index{stream\_write\_queue@{stream\_write\_queue}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_write\_queue()}{stream\_write\_queue()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a0e07c8570098aa75ba738a5f7c361080} 
esp\+\_\+err\+\_\+t stream\+\_\+write\+\_\+queue (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{size\+\_\+t}]{len}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Zapis dat do Free\+RTOS fronty. 

Interni funkce pro zapis dat do Free\+RTOS fronty pro mezikomponentovou komunikaci. Data jsou rozdlena na bloky maximalne STREAM\+\_\+\+QUEUE\+\_\+\+CHUNK\+\_\+\+SIZE a kazdy blok je odeslan do fronty s timeoutem 100ms.


\begin{DoxyParams}{Parametry}
{\em data} & Ukazatel na data k zapsani \\
\hline
{\em len} & Delka dat v bytech \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, ESP\+\_\+\+ERR\+\_\+\+INVALID\+\_\+\+STATE pokud fronta neni nastavena, ESP\+\_\+\+ERR\+\_\+\+TIMEOUT pokud se nepodari odeslat vsechna data 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00328}{328}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a1952cdd16ea597f54d90ff99e53612f6}\index{streaming\_output.c@{streaming\_output.c}!stream\_write\_uart@{stream\_write\_uart}}
\index{stream\_write\_uart@{stream\_write\_uart}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_write\_uart()}{stream\_write\_uart()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a1952cdd16ea597f54d90ff99e53612f6} 
esp\+\_\+err\+\_\+t stream\+\_\+write\+\_\+uart (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{size\+\_\+t}]{len}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Zapis dat do UART/\+USB Serial JTAG. 

Interni funkce pro zapis dat primo do stdout (USB Serial JTAG nebo UART). Pouziva fwrite() pro primos zapis bez buffering.


\begin{DoxyParams}{Parametry}
{\em data} & Ukazatel na data k zapsani \\
\hline
{\em len} & Delka dat v bytech \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pokud se zapsalo vse, ESP\+\_\+\+FAIL pri chybe 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00280}{280}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a230e6d355273f51e78c3de12e22c7736}\index{streaming\_output.c@{streaming\_output.c}!stream\_write\_web@{stream\_write\_web}}
\index{stream\_write\_web@{stream\_write\_web}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_write\_web()}{stream\_write\_web()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a230e6d355273f51e78c3de12e22c7736} 
esp\+\_\+err\+\_\+t stream\+\_\+write\+\_\+web (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{data}{, }\item[{size\+\_\+t}]{len}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Zapis dat do web serveru. 

Interni funkce pro zapis dat do web server klienta. Zatim placeholder pro budouci implementaci -\/ pouze loguje data.


\begin{DoxyParams}{Parametry}
{\em data} & Ukazatel na data k zapsani \\
\hline
{\em len} & Delka dat v bytech \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK vzdy (placeholder) 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00305}{305}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a81bb5955edffac0083f39e3114c99386}\index{streaming\_output.c@{streaming\_output.c}!stream\_writeln@{stream\_writeln}}
\index{stream\_writeln@{stream\_writeln}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stream\_writeln()}{stream\_writeln()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a81bb5955edffac0083f39e3114c99386} 
esp\+\_\+err\+\_\+t stream\+\_\+writeln (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{data}{}\end{DoxyParamCaption})}



Zapis retezec s koncem radku do aktualniho vystupniho proudu. 


\begin{DoxyParams}{Parametry}
{\em data} & Retezec k zapsani (bez konce radku) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, chybovy kod pri selhani 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00248}{248}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_aad4c641177bba008c8ec5c0a0265ac7c}\index{streaming\_output.c@{streaming\_output.c}!streaming\_get\_stats@{streaming\_get\_stats}}
\index{streaming\_get\_stats@{streaming\_get\_stats}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_get\_stats()}{streaming\_get\_stats()}}
{\footnotesize\ttfamily \label{streaming__output_8c_aad4c641177bba008c8ec5c0a0265ac7c} 
\mbox{\hyperlink{structstreaming__stats__t}{streaming\+\_\+stats\+\_\+t}} streaming\+\_\+get\+\_\+stats (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Ziskej statistiky streaming vystupu. 

\begin{DoxyReturn}{Návratová hodnota}
Struktura s aktualnimi statistikami 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00562}{562}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a251a50a8653a9c02de813b176cfa1718}\index{streaming\_output.c@{streaming\_output.c}!streaming\_is\_healthy@{streaming\_is\_healthy}}
\index{streaming\_is\_healthy@{streaming\_is\_healthy}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_is\_healthy()}{streaming\_is\_healthy()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a251a50a8653a9c02de813b176cfa1718} 
bool streaming\+\_\+is\+\_\+healthy (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Overi zda je streaming output system ve zdravem stavu. 

\begin{DoxyReturn}{Návratová hodnota}
true pokud je zdravy, false pokud jsou detekovany problemy 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00573}{573}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a936645e3895fd2cd3cda93e2b9302a4d}\index{streaming\_output.c@{streaming\_output.c}!streaming\_output\_deinit@{streaming\_output\_deinit}}
\index{streaming\_output\_deinit@{streaming\_output\_deinit}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_output\_deinit()}{streaming\_output\_deinit()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a936645e3895fd2cd3cda93e2b9302a4d} 
void streaming\+\_\+output\+\_\+deinit (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Deinicializuj streaming output system. 

Uvolni mutex a vymaze interni stav. 

Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00093}{93}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a5ce23c8be43f17f9b75c37d63fdb7eac}\index{streaming\_output.c@{streaming\_output.c}!streaming\_output\_init@{streaming\_output\_init}}
\index{streaming\_output\_init@{streaming\_output\_init}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_output\_init()}{streaming\_output\_init()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a5ce23c8be43f17f9b75c37d63fdb7eac} 
esp\+\_\+err\+\_\+t streaming\+\_\+output\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Inicializuj streaming output system. 

Vytvori mutex pro thread-\/safe pristup a nastavi vychozi vystup na UART.

\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, ESP\+\_\+\+ERR\+\_\+\+NO\+\_\+\+MEM pri selhani vytvoreni mutexu 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00061}{61}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a2be8864cdaed57fd8249185a4ade538f}\index{streaming\_output.c@{streaming\_output.c}!streaming\_print\_stats@{streaming\_print\_stats}}
\index{streaming\_print\_stats@{streaming\_print\_stats}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_print\_stats()}{streaming\_print\_stats()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a2be8864cdaed57fd8249185a4ade538f} 
void streaming\+\_\+print\+\_\+stats (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Vypis statistiky streaming vystupu do logu. 



Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00536}{536}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_acf5e7d713d834d6fb513201f5f761582}\index{streaming\_output.c@{streaming\_output.c}!streaming\_reset\_stats@{streaming\_reset\_stats}}
\index{streaming\_reset\_stats@{streaming\_reset\_stats}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_reset\_stats()}{streaming\_reset\_stats()}}
{\footnotesize\ttfamily \label{streaming__output_8c_acf5e7d713d834d6fb513201f5f761582} 
void streaming\+\_\+reset\+\_\+stats (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Resetuj vsechny statisticke citace. 



Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00567}{567}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_aca427711530c81651095df3f70106d66}\index{streaming\_output.c@{streaming\_output.c}!streaming\_set\_queue\_output@{streaming\_set\_queue\_output}}
\index{streaming\_set\_queue\_output@{streaming\_set\_queue\_output}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_set\_queue\_output()}{streaming\_set\_queue\_output()}}
{\footnotesize\ttfamily \label{streaming__output_8c_aca427711530c81651095df3f70106d66} 
esp\+\_\+err\+\_\+t streaming\+\_\+set\+\_\+queue\+\_\+output (\begin{DoxyParamCaption}\item[{Queue\+Handle\+\_\+t}]{queue}{}\end{DoxyParamCaption})}



Nastav Free\+RTOS frontu jako vystupni cil. 


\begin{DoxyParams}{Parametry}
{\em queue} & Handle fronty pro posilani vystupnich zprav \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, ESP\+\_\+\+ERR\+\_\+\+TIMEOUT pri selhani ziskani mutexu 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00154}{154}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a8aa67921edc9b4e0c2ffcf2660a96982}\index{streaming\_output.c@{streaming\_output.c}!streaming\_set\_uart\_output@{streaming\_set\_uart\_output}}
\index{streaming\_set\_uart\_output@{streaming\_set\_uart\_output}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_set\_uart\_output()}{streaming\_set\_uart\_output()}}
{\footnotesize\ttfamily \label{streaming__output_8c_a8aa67921edc9b4e0c2ffcf2660a96982} 
esp\+\_\+err\+\_\+t streaming\+\_\+set\+\_\+uart\+\_\+output (\begin{DoxyParamCaption}\item[{int}]{uart\+\_\+port}{}\end{DoxyParamCaption})}



Nastav UART jako vystupni cil. 


\begin{DoxyParams}{Parametry}
{\em uart\+\_\+port} & Cislo UART portu (obvykle 0 pro USB Serial JTAG) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, ESP\+\_\+\+ERR\+\_\+\+TIMEOUT pri selhani ziskani mutexu 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00114}{114}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_aae842b19f1975942c5b3674cb42fbddb}\index{streaming\_output.c@{streaming\_output.c}!streaming\_set\_web\_output@{streaming\_set\_web\_output}}
\index{streaming\_set\_web\_output@{streaming\_set\_web\_output}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_set\_web\_output()}{streaming\_set\_web\_output()}}
{\footnotesize\ttfamily \label{streaming__output_8c_aae842b19f1975942c5b3674cb42fbddb} 
esp\+\_\+err\+\_\+t streaming\+\_\+set\+\_\+web\+\_\+output (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{web\+\_\+client}{}\end{DoxyParamCaption})}



Nastav web klienta jako vystupni cil. 


\begin{DoxyParams}{Parametry}
{\em web\+\_\+client} & Handle web klienta (implementacne specificky) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Návratová hodnota}
ESP\+\_\+\+OK pri uspechu, ESP\+\_\+\+ERR\+\_\+\+TIMEOUT pri selhani ziskani mutexu 
\end{DoxyReturn}


Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00134}{134}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.



\label{doc-var-members}
\Hypertarget{streaming__output_8c_doc-var-members}
\doxysubsection{Dokumentace proměnných}
\Hypertarget{streaming__output_8c_af1926ad29634d13b1230a971167e3277}\index{streaming\_output.c@{streaming\_output.c}!current\_output@{current\_output}}
\index{current\_output@{current\_output}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{current\_output}{current\_output}}
{\footnotesize\ttfamily \label{streaming__output_8c_af1926ad29634d13b1230a971167e3277} 
\mbox{\hyperlink{structstreaming__output__t}{streaming\+\_\+output\+\_\+t}} current\+\_\+output\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00055}{55}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_acdc2beab71d64ed93f6bf73699e3a8f9}\index{streaming\_output.c@{streaming\_output.c}!stats@{stats}}
\index{stats@{stats}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{stats}{stats}}
{\footnotesize\ttfamily \label{streaming__output_8c_acdc2beab71d64ed93f6bf73699e3a8f9} 
\mbox{\hyperlink{structstreaming__stats__t}{streaming\+\_\+stats\+\_\+t}} stats = \{0\}\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00052}{52}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_aa8255bd6562ac594bf8c271b0af18629}\index{streaming\_output.c@{streaming\_output.c}!streaming\_mutex@{streaming\_mutex}}
\index{streaming\_mutex@{streaming\_mutex}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{streaming\_mutex}{streaming\_mutex}}
{\footnotesize\ttfamily \label{streaming__output_8c_aa8255bd6562ac594bf8c271b0af18629} 
Semaphore\+Handle\+\_\+t streaming\+\_\+mutex = NULL\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00050}{50}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_ab2336e816f0a31f0e3e85fba396e4340}\index{streaming\_output.c@{streaming\_output.c}!system\_initialized@{system\_initialized}}
\index{system\_initialized@{system\_initialized}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{system\_initialized}{system\_initialized}}
{\footnotesize\ttfamily \label{streaming__output_8c_ab2336e816f0a31f0e3e85fba396e4340} 
bool system\+\_\+initialized = false\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00051}{51}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

\Hypertarget{streaming__output_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}\index{streaming\_output.c@{streaming\_output.c}!TAG@{TAG}}
\index{TAG@{TAG}!streaming\_output.c@{streaming\_output.c}}
\doxysubsubsection{\texorpdfstring{TAG}{TAG}}
{\footnotesize\ttfamily \label{streaming__output_8c_a5a85b9c772bbeb480b209a3e6ea92b4c} 
const char\texorpdfstring{$\ast$}{*} TAG = "{}STREAMING\+\_\+\+OUT"{}\hspace{0.3cm}{\ttfamily [static]}}



Definice je uvedena na řádku \mbox{\hyperlink{streaming__output_8c_source_l00036}{36}} v souboru \mbox{\hyperlink{streaming__output_8c_source}{streaming\+\_\+output.\+c}}.

