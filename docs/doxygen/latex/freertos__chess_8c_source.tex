\doxysection{freertos\+\_\+chess.\+c}
\hypertarget{freertos__chess_8c_source}{}\label{freertos__chess_8c_source}\index{freertos\_chess.c@{freertos\_chess.c}}
\mbox{\hyperlink{freertos__chess_8c}{Zobrazit dokumentaci tohoto souboru.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00043}00043\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{freertos__chess_8h}{freertos\_chess.h}}"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00044}00044\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{button__task_8h}{button\_task.h}}"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00045}00045\ \textcolor{preprocessor}{\#include\ "{}driver/gpio.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00046}00046\ \textcolor{preprocessor}{\#include\ "{}esp\_err.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00047}00047\ \textcolor{preprocessor}{\#include\ "{}esp\_log.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00048}00048\ \textcolor{preprocessor}{\#include\ "{}esp\_system.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00049}00049\ \textcolor{preprocessor}{\#include\ "{}esp\_task\_wdt.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00050}00050\ \textcolor{preprocessor}{\#include\ "{}esp\_timer.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00051}00051\ \textcolor{preprocessor}{\#include\ "{}freertos/queue.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00052}00052\ \textcolor{preprocessor}{\#include\ "{}freertos/semphr.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00053}00053\ \textcolor{preprocessor}{\#include\ "{}freertos/task.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00054}00054\ \textcolor{preprocessor}{\#include\ "{}freertos/timers.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00055}00055\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{led__task_8h}{led\_task.h}}"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00056}00056\ \textcolor{preprocessor}{\#include\ "{}nvs\_flash.h"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00057}00057\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{shared__buffer__pool_8h}{shared\_buffer\_pool.h}}"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00058}00058\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{streaming__output_8h}{streaming\_output.h}}"{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00059}00059\ \textcolor{preprocessor}{\#include\ <stdarg.h>}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00060}00060\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00061}00061\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00062}00062\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00063}00063\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00065}\mbox{\hyperlink{freertos__chess_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{00065}}\ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}}\ =\ \textcolor{stringliteral}{"{}FREERTOS\_CHESS"{}};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00067}00067\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00068}00068\ \textcolor{comment}{//\ GLOBAL\ QUEUE\ AND\ MUTEX\ HANDLES}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00069}00069\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00071}00071\ \textcolor{comment}{//\ LED\ control\ queues\ -\/\ REMOVED:\ Using\ direct\ LED\ calls\ instead}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00072}00072\ \textcolor{comment}{//\ QueueHandle\_t\ led\_command\_queue\ =\ NULL;\ \ //\ ❌\ REMOVED:\ Queue\ hell\ eliminated}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00073}00073\ \textcolor{comment}{//\ QueueHandle\_t\ led\_status\_queue\ =\ NULL;\ \ \ //\ ❌\ REMOVED:\ Queue\ hell\ eliminated}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00074}00074\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00075}00075\ \textcolor{comment}{//\ Matrix\ event\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00076}\mbox{\hyperlink{freertos__chess_8c_a1b93ff1badbca8962927cb6fd837463e}{00076}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a1b93ff1badbca8962927cb6fd837463e}{matrix\_event\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00077}\mbox{\hyperlink{freertos__chess_8c_abc01112e6afa1b3e029218e52b7c2196}{00077}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_abc01112e6afa1b3e029218e52b7c2196}{matrix\_command\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00078}\mbox{\hyperlink{freertos__chess_8c_a9b3fea6e381f159f9e088382e4040d27}{00078}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a9b3fea6e381f159f9e088382e4040d27}{matrix\_response\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00080}00080\ \textcolor{comment}{//\ Button\ event\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00081}\mbox{\hyperlink{freertos__chess_8c_a05107bbe85fd87a92dad9efd71dbd653}{00081}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a05107bbe85fd87a92dad9efd71dbd653}{button\_event\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00082}\mbox{\hyperlink{freertos__chess_8c_a5f1958b9037083cf953f250fe1f364a5}{00082}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a5f1958b9037083cf953f250fe1f364a5}{button\_command\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00084}00084\ \textcolor{comment}{//\ UART\ communication\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00085}\mbox{\hyperlink{freertos__chess_8c_a7e436e9dcca9a044bb9264755b4caa9e}{00085}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a7e436e9dcca9a044bb9264755b4caa9e}{uart\_command\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00086}\mbox{\hyperlink{freertos__chess_8c_a02a776b41d5e50969e5cf68dcbbc2c69}{00086}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a02a776b41d5e50969e5cf68dcbbc2c69}{uart\_response\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00088}00088\ \textcolor{comment}{//\ Game\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00089}\mbox{\hyperlink{freertos__chess_8c_a4ed770cbe46604586e494bae84b62304}{00089}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a4ed770cbe46604586e494bae84b62304}{game\_command\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00090}\mbox{\hyperlink{freertos__chess_8c_a6dfc9956f36db9a85a34268c6e14b059}{00090}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a6dfc9956f36db9a85a34268c6e14b059}{game\_status\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00092}00092\ \textcolor{comment}{//\ Animation\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00093}\mbox{\hyperlink{freertos__chess_8c_a6fa8af7d1c0b048b9f2c363a9fb2b288}{00093}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a6fa8af7d1c0b048b9f2c363a9fb2b288}{animation\_command\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00094}\mbox{\hyperlink{freertos__chess_8c_ad2c6aca6dc859def2315ed1c26f11aad}{00094}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_ad2c6aca6dc859def2315ed1c26f11aad}{animation\_status\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00096}00096\ \textcolor{comment}{//\ Screen\ saver\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00097}\mbox{\hyperlink{freertos__chess_8c_ad6e2650c9733357ca904426081ccee72}{00097}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_ad6e2650c9733357ca904426081ccee72}{screen\_saver\_command\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00098}\mbox{\hyperlink{freertos__chess_8c_a494d670fc3ed5c9bf7fc74a908a92712}{00098}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a494d670fc3ed5c9bf7fc74a908a92712}{screen\_saver\_status\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00100}00100\ \textcolor{comment}{//\ DISABLED:\ Matter\ control\ queues\ -\/\ Matter\ not\ needed}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00101}00101\ \textcolor{comment}{//\ QueueHandle\_t\ matter\_command\_queue\ =\ NULL;}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00102}00102\ \textcolor{comment}{//\ extern\ QueueHandle\_t\ matter\_status\_queue;}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00104}00104\ \textcolor{comment}{//\ Web\ server\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00105}\mbox{\hyperlink{freertos__chess_8c_a642abc1652d446215a18d55b0517edba}{00105}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a642abc1652d446215a18d55b0517edba}{web\_command\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00106}00106\ \textcolor{keyword}{extern}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_aaed4d7c5bc3e8140853498b965ec94e2}{web\_server\_command\_queue}};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00107}00107\ \textcolor{keyword}{extern}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_aa17b405ee779d94d3b6954dd83712591}{web\_server\_status\_queue}};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00109}00109\ \textcolor{comment}{//\ Test\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00110}\mbox{\hyperlink{freertos__chess_8c_a849df7d33a2eeeb8383dab84223a7813}{00110}}\ QueueHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a849df7d33a2eeeb8383dab84223a7813}{test\_command\_queue}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00112}00112\ \textcolor{comment}{//\ System\ mutexes}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00113}\mbox{\hyperlink{freertos__chess_8c_a864f0cc9b1f2e30bd3c0e225e2c48552}{00113}}\ SemaphoreHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a864f0cc9b1f2e30bd3c0e225e2c48552}{led\_mutex}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00114}\mbox{\hyperlink{freertos__chess_8c_a80a74d10dccdaa933010d0e5cf7202d8}{00114}}\ SemaphoreHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a80a74d10dccdaa933010d0e5cf7202d8}{matrix\_mutex}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00115}\mbox{\hyperlink{freertos__chess_8c_a17744dc0b4a21889e7e9527835edc068}{00115}}\ SemaphoreHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a17744dc0b4a21889e7e9527835edc068}{button\_mutex}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00116}\mbox{\hyperlink{freertos__chess_8c_af5298ceb88597b4b25328ac7e1af7ff0}{00116}}\ SemaphoreHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_af5298ceb88597b4b25328ac7e1af7ff0}{game\_mutex}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00117}\mbox{\hyperlink{freertos__chess_8c_a54b3156204f85b12fbf1a9c012730afc}{00117}}\ SemaphoreHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a54b3156204f85b12fbf1a9c012730afc}{system\_mutex}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00119}00119\ \textcolor{comment}{//\ System\ timers}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00120}\mbox{\hyperlink{freertos__chess_8c_ad589ad22574a5fdb69645141759216c4}{00120}}\ TimerHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_ad589ad22574a5fdb69645141759216c4}{matrix\_scan\_timer}}\ =}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00121}00121\ \ \ \ \ NULL;\ \textcolor{comment}{//\ LEGACY\ -\/\ not\ used\ with\ coordinated\ system}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00122}\mbox{\hyperlink{freertos__chess_8c_af58f98e02d7d24dcc49a348ea1f22e77}{00122}}\ TimerHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_af58f98e02d7d24dcc49a348ea1f22e77}{button\_scan\_timer}}\ =}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00123}00123\ \ \ \ \ NULL;\ \textcolor{comment}{//\ LEGACY\ -\/\ not\ used\ with\ coordinated\ system}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00124}\mbox{\hyperlink{freertos__chess_8c_a9bd4853603c685d45ba49977256c7567}{00124}}\ TimerHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a9bd4853603c685d45ba49977256c7567}{led\_update\_timer}}\ =\ NULL;\ \textcolor{comment}{//\ Timer\ pro\ periodické\ obnovení\ LED}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00125}\mbox{\hyperlink{freertos__chess_8c_a2d90fd6adb05ddb54ae494a47e311309}{00125}}\ TimerHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a2d90fd6adb05ddb54ae494a47e311309}{system\_health\_timer}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00127}00127\ \textcolor{comment}{//\ Koordinovaný\ time-\/multiplexing\ timer\ (perioda\ 25ms)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00128}\mbox{\hyperlink{freertos__chess_8c_a0042f9cdb2f225fa940e25e47b2610ec}{00128}}\ \textcolor{keyword}{static}\ TimerHandle\_t\ \mbox{\hyperlink{freertos__chess_8c_a0042f9cdb2f225fa940e25e47b2610ec}{coordinated\_multiplex\_timer}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00130}00130\ \textcolor{comment}{//\ System\ state}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00131}\mbox{\hyperlink{freertos__chess_8c_ab2336e816f0a31f0e3e85fba396e4340}{00131}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{freertos__chess_8c_ab2336e816f0a31f0e3e85fba396e4340}{system\_initialized}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00132}\mbox{\hyperlink{freertos__chess_8c_ae37ba709842162d9a8328959d0cb0e05}{00132}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{freertos__chess_8c_ae37ba709842162d9a8328959d0cb0e05}{hardware\_initialized}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00133}\mbox{\hyperlink{freertos__chess_8c_a32091f1b25b0412e3f75b7fb3dff4b90}{00133}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{freertos__chess_8c_a32091f1b25b0412e3f75b7fb3dff4b90}{freertos\_initialized}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00135}00135\ \textcolor{comment}{//\ GPIO\ pin\ arrays}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00136}\mbox{\hyperlink{freertos__chess_8c_ad9e3ceb44aa3ff2deb6b45b6079cc7e8}{00136}}\ \textcolor{keyword}{const}\ gpio\_num\_t\ \mbox{\hyperlink{freertos__chess_8c_ad9e3ceb44aa3ff2deb6b45b6079cc7e8}{matrix\_row\_pins}}[8]\ =\ \{\mbox{\hyperlink{freertos__chess_8h_a412cf595c5d992d528f572367cd382fc}{MATRIX\_ROW\_0}},\ \mbox{\hyperlink{freertos__chess_8h_a26f828d1911fdbed9f5a190d38b869f4}{MATRIX\_ROW\_1}},\ \mbox{\hyperlink{freertos__chess_8h_a6c3c544fb9cfc45bc5c9b321be7cd410}{MATRIX\_ROW\_2}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00137}00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_aa33e7a34678ad6fe782210f99a7672ad}{MATRIX\_ROW\_3}},\ \mbox{\hyperlink{freertos__chess_8h_a71559152b07023bcb341ac1a2b1a6f42}{MATRIX\_ROW\_4}},\ \mbox{\hyperlink{freertos__chess_8h_a42d9ffa9b417036ce69c56a7b895bebb}{MATRIX\_ROW\_5}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00138}00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a5f70e9694a3ea89ce6c9c4396843a3b2}{MATRIX\_ROW\_6}},\ \mbox{\hyperlink{freertos__chess_8h_ae9ab626eb119d23769111f56a1bcaa16}{MATRIX\_ROW\_7}}\};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00140}\mbox{\hyperlink{freertos__chess_8c_a2d07c58a77430cba050b46dd496ce081}{00140}}\ \textcolor{keyword}{const}\ gpio\_num\_t\ \mbox{\hyperlink{freertos__chess_8c_a2d07c58a77430cba050b46dd496ce081}{matrix\_col\_pins}}[8]\ =\ \{\mbox{\hyperlink{freertos__chess_8h_a3e029f70c5d00d3e249faf7804581b0b}{MATRIX\_COL\_0}},\ \mbox{\hyperlink{freertos__chess_8h_ac18820617d1dcd813d8ac903a5c93a8d}{MATRIX\_COL\_1}},\ \mbox{\hyperlink{freertos__chess_8h_a141d2717e84ae5d86135f4562f67481b}{MATRIX\_COL\_2}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_af876ae3f9c7de7f9528648519939c0ee}{MATRIX\_COL\_3}},\ \mbox{\hyperlink{freertos__chess_8h_ab799338bcbcd21959ba40e084d6b5327}{MATRIX\_COL\_4}},\ \mbox{\hyperlink{freertos__chess_8h_a712d6392405fecb625bb7543219ac7a6}{MATRIX\_COL\_5}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a5c56175a56a0013ce45265301301e937}{MATRIX\_COL\_6}},\ \mbox{\hyperlink{freertos__chess_8h_a2194cd55ef55fe74673eff35a72c2b4b}{MATRIX\_COL\_7}}\};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00144}\mbox{\hyperlink{freertos__chess_8c_aa13f5879e99176ffada8295c49c67b6c}{00144}}\ \textcolor{keyword}{const}\ gpio\_num\_t\ \mbox{\hyperlink{freertos__chess_8c_aa13f5879e99176ffada8295c49c67b6c}{promotion\_button\_pins\_a}}[4]\ =\ \{\mbox{\hyperlink{freertos__chess_8h_a123381859161caa7858faf29b48e26e5}{BUTTON\_QUEEN}},\ \mbox{\hyperlink{freertos__chess_8h_a7af87dab7ead0a04fb6403b906db7ae0}{BUTTON\_ROOK}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_ac861d083f88a75aef0cb5a65ba142f97}{BUTTON\_BISHOP}},\ \mbox{\hyperlink{freertos__chess_8h_aa4b9945e8a7178906001d2393d6c069d}{BUTTON\_KNIGHT}}\};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00147}00147\ \textcolor{comment}{//\ ⚠️\ NEPOUZIVANO:\ Toto\ pole\ se\ nikde\ v\ kódu\ nepoužívá!}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00148}00148\ \textcolor{comment}{//\ Původně\ bylo\ navrženo\ pro\ druhou\ sadu\ promotion\ tlačítek,\ ale\ systém}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00149}00149\ \textcolor{comment}{//\ používá\ pouze\ promotion\_button\_pins\_a\ (4\ sdílená\ tlačítka\ pro\ oba\ hráče).}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00150}00150\ \textcolor{comment}{//\ const\ gpio\_num\_t\ promotion\_button\_pins\_b[4]\ =\ \{}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00151}00151\ \textcolor{comment}{//\ \ \ \ \ BUTTON\_PROMOTION\_QUEEN,\ BUTTON\_PROMOTION\_ROOK,\ BUTTON\_PROMOTION\_BISHOP,}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00152}00152\ \textcolor{comment}{//\ \ \ \ \ BUTTON\_PROMOTION\_KNIGHT\};}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00154}00154\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00155}00155\ \textcolor{comment}{//\ GPIO\ VALIDATION\ FUNCTIONS}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00156}00156\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00157}00157\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00158}00158\ \textcolor{comment}{//\ Enhanced\ GPIO\ validation\ function}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00159}\mbox{\hyperlink{freertos__chess_8c_a1ceecb2e00128b59e0224f35608eaf6c}{00159}}\ \textcolor{keyword}{static}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a1ceecb2e00128b59e0224f35608eaf6c}{validate\_gpio\_pin}}(gpio\_num\_t\ pin,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *pin\_name)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00160}00160\ \ \ \textcolor{comment}{//\ Check\ if\ pin\ exists}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00161}00161\ \ \ \textcolor{keywordflow}{if}\ (pin\ <\ 0\ ||\ pin\ >\ 30)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00162}00162\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Invalid\ GPIO\ pin\ \%d\ for\ \%s\ (ESP32-\/C6\ has\ GPIO\ 0-\/30)"{}},\ pin,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ pin\_name);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00164}00164\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00165}00165\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00167}00167\ \ \ \textcolor{comment}{//\ Check\ SPI\ Flash\ reserved\ pins\ (GPIO\ 24-\/26\ are\ reserved,\ but\ 27-\/30\ can\ be}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00168}00168\ \ \ \textcolor{comment}{//\ used\ for\ I/O)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00169}00169\ \ \ \textcolor{keywordflow}{if}\ (pin\ >=\ 24\ \&\&\ pin\ <=\ 26)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00170}00170\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}GPIO\ \%d\ (\%s)\ is\ reserved\ for\ SPI\ Flash\ on\ ESP32-\/C6"{}},\ pin,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ pin\_name);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00172}00172\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00173}00173\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00175}00175\ \ \ \textcolor{comment}{//\ Warn\ about\ SPI\ Flash\ pins\ that\ can\ be\ used\ for\ I/O}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00176}00176\ \ \ \textcolor{keywordflow}{if}\ (pin\ >=\ 27\ \&\&\ pin\ <=\ 30)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00177}00177\ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}GPIO\ \%d\ (\%s)\ is\ SPI\ Flash\ pin\ but\ can\ be\ used\ for\ I/O\ -\/\ use\ with\ "{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}caution"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ pin,\ pin\_name);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00181}00181\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00183}00183\ \ \ \textcolor{comment}{//\ Warn\ about\ strapping\ pins}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00184}00184\ \ \ \textcolor{keywordflow}{if}\ (pin\ ==\ 4\ ||\ pin\ ==\ 5\ ||\ pin\ ==\ 8\ ||\ pin\ ==\ 9\ ||\ pin\ ==\ 15)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00185}00185\ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}GPIO\ \%d\ (\%s)\ is\ a\ strapping\ pin\ -\/\ use\ with\ caution"{}},\ pin,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ pin\_name);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00187}00187\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00188}00188\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00189}00189\ \ \ \textcolor{comment}{//\ Warn\ about\ USB-\/JTAG\ pins}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00190}00190\ \ \ \textcolor{keywordflow}{if}\ (pin\ ==\ 12\ ||\ pin\ ==\ 13)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00191}00191\ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}GPIO\ \%d\ (\%s)\ is\ used\ for\ USB-\/JTAG\ debugging"{}},\ pin,\ pin\_name);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00192}00192\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00193}00193\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00194}00194\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00195}00195\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00196}00196\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00197}00197\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00198}00198\ \textcolor{comment}{//\ HARDWARE\ INITIALIZATION\ FUNCTIONS}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00199}00199\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00200}00200\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00201}\mbox{\hyperlink{freertos__chess_8c_af8e4ec2ba6554d39c4f7c9574718efdc}{00201}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_af8e4ec2ba6554d39c4f7c9574718efdc}{chess\_gpio\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00202}00202\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Initializing\ GPIO\ pins..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00203}00203\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00204}00204\ \ \ \textcolor{comment}{//\ DEBUG:\ Ověření\ definice\ pinů}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00205}00205\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}DEBUG:\ STATUS\_LED\_PIN\ =\ GPIO\%d,\ BUTTON\_RESET\ =\ GPIO\%d"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00206}00206\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a089a71f836911c71b3f73fdd3b4b890b}{STATUS\_LED\_PIN}},\ \mbox{\hyperlink{freertos__chess_8h_a0710f0869f3bcc7820964e85f3d59fa4}{BUTTON\_RESET}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00207}00207\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}DEBUG:\ LED\_DATA\_PIN\ =\ GPIO\%d"{}},\ \mbox{\hyperlink{freertos__chess_8h_a5f55b07707df2f2cf371f707207ed508}{LED\_DATA\_PIN}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00209}00209\ \ \ \textcolor{comment}{//\ GPIO\ initialization\ -\/\ no\ WDT\ reset\ needed\ during\ init}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00211}00211\ \ \ \textcolor{comment}{//\ Enhanced\ GPIO\ validation\ using\ the\ new\ validation\ function}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00212}00212\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Validating\ GPIO\ pin\ assignments..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00213}00213\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00214}00214\ \ \ \textcolor{comment}{//\ Validate\ LED\ pins}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00215}00215\ \ \ esp\_err\_t\ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_a1ceecb2e00128b59e0224f35608eaf6c}{validate\_gpio\_pin}}(\mbox{\hyperlink{freertos__chess_8h_a5f55b07707df2f2cf371f707207ed508}{LED\_DATA\_PIN}},\ \textcolor{stringliteral}{"{}LED\_DATA\_PIN"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00216}00216\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00217}00217\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00218}00218\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00219}00219\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_a1ceecb2e00128b59e0224f35608eaf6c}{validate\_gpio\_pin}}(\mbox{\hyperlink{freertos__chess_8h_a089a71f836911c71b3f73fdd3b4b890b}{STATUS\_LED\_PIN}},\ \textcolor{stringliteral}{"{}STATUS\_LED\_PIN"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00220}00220\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00221}00221\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00222}00222\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00223}00223\ \ \ \textcolor{comment}{//\ Validate\ matrix\ row\ pins}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00224}00224\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00225}00225\ \ \ \ \ \textcolor{comment}{//\ GPIO\ validation\ -\/\ no\ WDT\ reset\ needed\ during\ init}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00226}00226\ \ \ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_a1ceecb2e00128b59e0224f35608eaf6c}{validate\_gpio\_pin}}(\mbox{\hyperlink{freertos__chess_8c_ad9e3ceb44aa3ff2deb6b45b6079cc7e8}{matrix\_row\_pins}}[i],\ \textcolor{stringliteral}{"{}MATRIX\_ROW"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00227}00227\ \ \ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00228}00228\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00229}00229\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00230}00230\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00231}00231\ \ \ \textcolor{comment}{//\ Validate\ matrix\ column\ pins}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00232}00232\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00233}00233\ \ \ \ \ \textcolor{comment}{//\ GPIO\ validation\ -\/\ no\ WDT\ reset\ needed\ during\ init}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00234}00234\ \ \ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_a1ceecb2e00128b59e0224f35608eaf6c}{validate\_gpio\_pin}}(\mbox{\hyperlink{freertos__chess_8c_a2d07c58a77430cba050b46dd496ce081}{matrix\_col\_pins}}[i],\ \textcolor{stringliteral}{"{}MATRIX\_COL"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00235}00235\ \ \ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00236}00236\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00237}00237\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00238}00238\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00239}00239\ \ \ \textcolor{comment}{//\ Validate\ reset\ button\ pin}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00240}00240\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_a1ceecb2e00128b59e0224f35608eaf6c}{validate\_gpio\_pin}}(\mbox{\hyperlink{freertos__chess_8h_a0710f0869f3bcc7820964e85f3d59fa4}{BUTTON\_RESET}},\ \textcolor{stringliteral}{"{}BUTTON\_RESET"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00241}00241\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00242}00242\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00243}00243\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00244}00244\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ GPIO\ safety\ checks\ passed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00245}00245\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00246}00246\ \ \ \textcolor{comment}{//\ GPIO\ configuration\ -\/\ no\ WDT\ reset\ needed\ during\ init}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00247}00247\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00248}00248\ \ \ \textcolor{comment}{//\ Configure\ matrix\ row\ pins\ as\ outputs}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00249}00249\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00250}00250\ \ \ \ \ \textcolor{comment}{//\ GPIO\ config\ -\/\ no\ WDT\ reset\ needed\ during\ init}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00251}00251\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00252}00252\ \ \ \ \ \textcolor{comment}{//\ Bitová\ maska\ s\ explicitním\ přetypováním}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00253}00253\ \ \ \ \ uint32\_t\ pin\_number\ =\ (uint32\_t)\mbox{\hyperlink{freertos__chess_8c_ad9e3ceb44aa3ff2deb6b45b6079cc7e8}{matrix\_row\_pins}}[i];}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00254}00254\ \ \ \ \ uint64\_t\ pin\_mask\ =\ (1ULL\ <<\ pin\_number);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00255}00255\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00256}00256\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Configuring\ MATRIX\_ROW\_\%d\ (GPIO\%d,\ mask=0x\%llx)..."{}},\ i,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00257}00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ pin\_number,\ pin\_mask);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00258}00258\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00259}00259\ \ \ \ \ gpio\_config\_t\ io\_conf\ =\ \{.pin\_bit\_mask\ =\ pin\_mask,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00260}00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .mode\ =\ GPIO\_MODE\_OUTPUT,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .pull\_up\_en\ =\ GPIO\_PULLUP\_DISABLE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .pull\_down\_en\ =\ GPIO\_PULLDOWN\_DISABLE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .intr\_type\ =\ GPIO\_INTR\_DISABLE\};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00264}00264\ \ \ \ \ ret\ =\ gpio\_config(\&io\_conf);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00265}00265\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}gpio\_config\ returned\ \%s"{}},\ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00266}00266\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00267}00267\ \ \ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00268}00268\ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ configure\ matrix\ row\ pin\ \%d\ (GPIO\%d):\ \%s"{}},\ i,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pin\_number,\ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00270}00270\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret;\ \textcolor{comment}{//\ Return\ error\ instead\ of\ continuing}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00271}00271\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00272}00272\ \ \ \ \ \ \ gpio\_set\_level(\mbox{\hyperlink{freertos__chess_8c_ad9e3ceb44aa3ff2deb6b45b6079cc7e8}{matrix\_row\_pins}}[i],}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1);\ \textcolor{comment}{//\ Set\ all\ rows\ HIGH\ initially\ (inactive\ state)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00274}00274\ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}gpio\_set\_level\ done\ for\ GPIO\%d"{}},\ pin\_number);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00275}00275\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00276}00276\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00277}00277\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00278}00278\ \ \ \textcolor{comment}{//\ Configure\ matrix\ column\ pins\ as\ inputs\ with\ pull-\/up}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00279}00279\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}DEBUG:\ Starting\ matrix\ column\ configuration\ loop"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00280}00280\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 8;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00281}00281\ \ \ \ \ \textcolor{comment}{//\ WDT\ reset\ odstraněn\ během\ inicializace}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00282}00282\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00283}00283\ \ \ \ \ \textcolor{comment}{//\ Bitová\ maska\ s\ explicitním\ přetypováním}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00284}00284\ \ \ \ \ uint32\_t\ pin\_number\ =\ (uint32\_t)\mbox{\hyperlink{freertos__chess_8c_a2d07c58a77430cba050b46dd496ce081}{matrix\_col\_pins}}[i];}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00285}00285\ \ \ \ \ uint64\_t\ pin\_mask\ =\ (1ULL\ <<\ pin\_number);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00286}00286\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00287}00287\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Configuring\ MATRIX\_COL\_\%d\ (GPIO\%d,\ mask=0x\%llx)..."{}},\ i,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00288}00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ pin\_number,\ pin\_mask);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00289}00289\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00290}00290\ \ \ \ \ \textcolor{comment}{//\ CRITICAL:\ Skip\ strapping\ pins\ to\ avoid\ system\ reset}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00291}00291\ \ \ \ \ \textcolor{keywordflow}{if}\ (pin\_number\ ==\ 9)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00292}00292\ \ \ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Skipping\ GPIO\%d\ (strapping\ pin)\ to\ avoid\ system\ reset"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00293}00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pin\_number);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00294}00294\ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Matrix\ column\ pin\ \%d\ skipped\ (strapping\ pin)"{}},\ i);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00295}00295\ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}DEBUG:\ About\ to\ continue\ to\ next\ iteration"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00296}00296\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};\ \textcolor{comment}{//\ Přeskočení\ strapping\ pinu}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00297}00297\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00298}00298\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00299}00299\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}DEBUG:\ Proceeding\ with\ GPIO\%d\ configuration"{}},\ pin\_number);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00300}00300\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00301}00301\ \ \ \ \ \textcolor{comment}{//\ WDT\ reset\ odstraněn\ během\ inicializace}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00302}00302\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00303}00303\ \ \ \ \ gpio\_config\_t\ io\_conf\ =\ \{.pin\_bit\_mask\ =\ pin\_mask,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00304}00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .mode\ =\ GPIO\_MODE\_INPUT,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .pull\_up\_en\ =\ GPIO\_PULLUP\_ENABLE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .pull\_down\_en\ =\ GPIO\_PULLDOWN\_DISABLE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .intr\_type\ =\ GPIO\_INTR\_DISABLE\};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00308}00308\ \ \ \ \ ret\ =\ gpio\_config(\&io\_conf);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00309}00309\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}gpio\_config\ returned\ \%s"{}},\ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00310}00310\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00311}00311\ \ \ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00312}00312\ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ configure\ matrix\ column\ pin\ \%d\ (GPIO\%d):\ \%s"{}},\ i,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00313}00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pin\_number,\ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00314}00314\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret;\ \textcolor{comment}{//\ Return\ error\ instead\ of\ continuing}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00315}00315\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00316}00316\ \ \ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Matrix\ column\ pin\ \%d\ configured\ successfully"{}},\ i);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00317}00317\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00318}00318\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00319}00319\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}DEBUG:\ Matrix\ column\ configuration\ loop\ completed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00320}00320\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00321}00321\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}DEBUG:\ Matrix\ column\ configuration\ loop\ completed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00322}00322\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00323}00323\ \ \ \textcolor{comment}{//\ Configure\ status\ LED\ pin}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00324}00324\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization\ \ //\ Reset\ před\ status\ LED\ config}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00325}00325\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}DEBUG:\ About\ to\ configure\ STATUS\_LED"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00326}00326\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00327}00327\ \ \ \textcolor{comment}{//\ OPRAVA:\ Správná\ bitová\ maska\ s\ explicitním\ castem}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00328}00328\ \ \ uint32\_t\ status\_led\_pin\ =\ (uint32\_t)\mbox{\hyperlink{freertos__chess_8h_a089a71f836911c71b3f73fdd3b4b890b}{STATUS\_LED\_PIN}};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00329}00329\ \ \ uint64\_t\ status\_led\_mask\ =\ (1ULL\ <<\ status\_led\_pin);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00330}00330\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00331}00331\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Configuring\ STATUS\_LED\ (GPIO\%d,\ mask=0x\%llx)..."{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00332}00332\ \ \ \ \ \ \ \ \ \ \ \ status\_led\_pin,\ status\_led\_mask);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00333}00333\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00334}00334\ \ \ \textcolor{comment}{//\ ✅\ OPRAVA:\ Reset\ před\ gpio\_config()}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00335}00335\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00336}00336\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00337}00337\ \ \ gpio\_config\_t\ status\_led\_conf\ =\ \{.pin\_bit\_mask\ =\ status\_led\_mask,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .mode\ =\ GPIO\_MODE\_OUTPUT,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .pull\_up\_en\ =\ GPIO\_PULLUP\_DISABLE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00340}00340\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .pull\_down\_en\ =\ GPIO\_PULLDOWN\_DISABLE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00341}00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .intr\_type\ =\ GPIO\_INTR\_DISABLE\};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00342}00342\ \ \ ret\ =\ gpio\_config(\&status\_led\_conf);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00343}00343\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}gpio\_config\ returned\ \%s"{}},\ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00344}00344\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00345}00345\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00346}00346\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ configure\ status\ LED\ pin\ (GPIO\%d):\ \%s"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00347}00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ status\_led\_pin,\ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00348}00348\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;\ \textcolor{comment}{//\ Return\ error\ instead\ of\ continuing}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00349}00349\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00350}00350\ \ \ \ \ gpio\_set\_level(\mbox{\hyperlink{freertos__chess_8h_a089a71f836911c71b3f73fdd3b4b890b}{STATUS\_LED\_PIN}},\ 0);\ \textcolor{comment}{//\ LED\ off\ initially}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00351}00351\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Status\ LED\ configured\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00352}00352\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00353}00353\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00354}00354\ \ \ \textcolor{comment}{//\ Configure\ reset\ button\ pin}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00355}00355\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization\ \ //\ Reset\ před\ reset\ button\ config}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00356}00356\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00357}00357\ \ \ \textcolor{comment}{//\ OPRAVA:\ Správná\ bitová\ maska\ s\ explicitním\ castem}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00358}00358\ \ \ uint32\_t\ reset\_button\_pin\ =\ (uint32\_t)\mbox{\hyperlink{freertos__chess_8h_a0710f0869f3bcc7820964e85f3d59fa4}{BUTTON\_RESET}};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00359}00359\ \ \ uint64\_t\ reset\_button\_mask\ =\ (1ULL\ <<\ reset\_button\_pin);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00360}00360\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00361}00361\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Configuring\ RESET\_BUTTON\ (GPIO\%d,\ mask=0x\%llx)..."{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00362}00362\ \ \ \ \ \ \ \ \ \ \ \ reset\_button\_pin,\ reset\_button\_mask);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00363}00363\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00364}00364\ \ \ \textcolor{comment}{//\ ✅\ OPRAVA:\ Reset\ před\ gpio\_config()}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00365}00365\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00366}00366\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00367}00367\ \ \ gpio\_config\_t\ reset\_button\_conf\ =\ \{.pin\_bit\_mask\ =\ reset\_button\_mask,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00368}00368\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .mode\ =\ GPIO\_MODE\_INPUT,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00369}00369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .pull\_up\_en\ =\ GPIO\_PULLUP\_ENABLE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00370}00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .pull\_down\_en\ =\ GPIO\_PULLDOWN\_DISABLE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00371}00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .intr\_type\ =\ GPIO\_INTR\_DISABLE\};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00372}00372\ \ \ ret\ =\ gpio\_config(\&reset\_button\_conf);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00373}00373\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}gpio\_config\ returned\ \%s"{}},\ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00374}00374\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00375}00375\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00376}00376\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ configure\ reset\ button\ pin\ (GPIO\%d):\ \%s"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00377}00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ reset\_button\_pin,\ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00378}00378\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;\ \textcolor{comment}{//\ Return\ error\ instead\ of\ continuing}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00379}00379\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00380}00380\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Reset\ button\ configured\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00381}00381\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00382}00382\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00383}00383\ \ \ \textcolor{comment}{//\ PŘIDAT:\ Finální\ reset}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00384}00384\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00385}00385\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00386}00386\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ GPIO\ pins\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00387}00387\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00388}00388\ \ \ \textcolor{comment}{//\ Dokončení\ GPIO\ konfigurace}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00389}00389\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00390}00390\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00391}00391\ \ \ \textcolor{comment}{//\ Fallback:\ If\ any\ GPIO\ configuration\ failed,\ log\ warning\ but\ continue}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00392}00392\ \ \ \textcolor{comment}{//\ ESP\_LOGW(TAG,\ "{}⚠️\ Some\ GPIO\ pins\ may\ not\ be\ configured\ correctly\ -\/\ running}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00393}00393\ \ \ \textcolor{comment}{//\ in\ simulation\ mode"{});\ ESP\_LOGW(TAG,\ "{}⚠️\ Hardware\ functionality\ will\ be}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00394}00394\ \ \ \textcolor{comment}{//\ limited\ -\/\ check\ GPIO\ pin\ assignments"{});}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00395}00395\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00396}00396\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00397}00397\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00398}00398\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00399}\mbox{\hyperlink{freertos__chess_8c_ad817d527142431531e86a3f54d66fefd}{00399}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_ad817d527142431531e86a3f54d66fefd}{chess\_led\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00400}00400\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔧\ Initializing\ WS2812B\ LED\ system..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00401}00401\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00402}00402\ \ \ \textcolor{comment}{//\ Reset\ watchdog\ timeru\ před\ inicializací\ LED}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00403}00403\ \ \ esp\_err\_t\ wdt\_ret\ =\ esp\_task\_wdt\_reset();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00404}00404\ \ \ \textcolor{keywordflow}{if}\ (wdt\_ret\ !=\ ESP\_OK\ \&\&\ wdt\_ret\ !=\ ESP\_ERR\_NOT\_FOUND)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00405}00405\ \ \ \ \ \textcolor{comment}{//\ Task\ not\ registered\ with\ TWDT\ yet\ -\/\ this\ is\ normal\ during\ startup}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00406}00406\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00407}00407\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00408}00408\ \ \ \textcolor{comment}{//\ Inicializace\ WS2812B\ hardwaru}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00409}00409\ \ \ \textcolor{comment}{//\ This\ function\ will\ be\ called\ by\ led\_task.c\ during\ hardware\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00410}00410\ \ \ \textcolor{comment}{//\ We\ just\ ensure\ the\ system\ is\ ready\ for\ LED\ operations}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00411}00411\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00412}00412\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ LED\ system\ initialization\ prepared"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00413}00413\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ WS2812B\ data\ pin:\ GPIO\%d"{}},\ \mbox{\hyperlink{freertos__chess_8h_a5f55b07707df2f2cf371f707207ed508}{LED\_DATA\_PIN}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00414}00414\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Total\ LEDs:\ \%d\ (64\ board\ +\ 9\ buttons)"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00415}00415\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chess__types_8h_afb4b5c24ea71da31d1fe1536f5c18728}{CHESS\_LED\_COUNT\_TOTAL}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00416}00416\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Hardware\ initialization\ will\ be\ done\ by\ led\_task.c"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00417}00417\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00418}00418\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00419}00419\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00420}00420\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00421}\mbox{\hyperlink{freertos__chess_8c_aa7e19c2234c5d2c6b224dbf5d73cd7a9}{00421}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_aa7e19c2234c5d2c6b224dbf5d73cd7a9}{chess\_matrix\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00422}00422\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Initializing\ matrix\ system..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00423}00423\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00424}00424\ \ \ \textcolor{comment}{//\ WDT\ reset\ pro\ matrix\ inicializaci}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00425}00425\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00426}00426\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00427}00427\ \ \ \textcolor{comment}{//\ Matrix\ is\ already\ configured\ in\ GPIO\ init}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00428}00428\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ we'll\ simulate\ reed\ switch\ detection}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00429}00429\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ Matrix\ system\ initialized"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00430}00430\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ 8x8\ reed\ switch\ matrix"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00431}00431\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Row\ pins:\ GPIO\%d,\%d,\%d,\%d,\%d,\%d,\%d,\%d"{}},\ \mbox{\hyperlink{freertos__chess_8h_a412cf595c5d992d528f572367cd382fc}{MATRIX\_ROW\_0}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00432}00432\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a26f828d1911fdbed9f5a190d38b869f4}{MATRIX\_ROW\_1}},\ \mbox{\hyperlink{freertos__chess_8h_a6c3c544fb9cfc45bc5c9b321be7cd410}{MATRIX\_ROW\_2}},\ \mbox{\hyperlink{freertos__chess_8h_aa33e7a34678ad6fe782210f99a7672ad}{MATRIX\_ROW\_3}},\ \mbox{\hyperlink{freertos__chess_8h_a71559152b07023bcb341ac1a2b1a6f42}{MATRIX\_ROW\_4}},\ \mbox{\hyperlink{freertos__chess_8h_a42d9ffa9b417036ce69c56a7b895bebb}{MATRIX\_ROW\_5}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00433}00433\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a5f70e9694a3ea89ce6c9c4396843a3b2}{MATRIX\_ROW\_6}},\ \mbox{\hyperlink{freertos__chess_8h_ae9ab626eb119d23769111f56a1bcaa16}{MATRIX\_ROW\_7}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00434}00434\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Column\ pins:\ GPIO\%d,\%d,\%d,\%d,\%d,\%d,\%d,\%d"{}},\ \mbox{\hyperlink{freertos__chess_8h_a3e029f70c5d00d3e249faf7804581b0b}{MATRIX\_COL\_0}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00435}00435\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_ac18820617d1dcd813d8ac903a5c93a8d}{MATRIX\_COL\_1}},\ \mbox{\hyperlink{freertos__chess_8h_a141d2717e84ae5d86135f4562f67481b}{MATRIX\_COL\_2}},\ \mbox{\hyperlink{freertos__chess_8h_af876ae3f9c7de7f9528648519939c0ee}{MATRIX\_COL\_3}},\ \mbox{\hyperlink{freertos__chess_8h_ab799338bcbcd21959ba40e084d6b5327}{MATRIX\_COL\_4}},\ \mbox{\hyperlink{freertos__chess_8h_a712d6392405fecb625bb7543219ac7a6}{MATRIX\_COL\_5}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00436}00436\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a5c56175a56a0013ce45265301301e937}{MATRIX\_COL\_6}},\ \mbox{\hyperlink{freertos__chess_8h_a2194cd55ef55fe74673eff35a72c2b4b}{MATRIX\_COL\_7}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00437}00437\ \ \ \textcolor{comment}{//\ ESP\_LOGI(}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00438}00438\ \ \ \textcolor{comment}{//\ \ \ \ \ TAG,}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00439}00439\ \ \ \textcolor{comment}{//\ \ \ \ \ "{}\ \ -\/\ Simulation\ mode:\ matrix\ events\ will\ be\ generated}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00440}00440\ \ \ \textcolor{comment}{//\ \ \ \ \ programmatically"{});}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00441}00441\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00442}00442\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00443}00443\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00444}00444\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00445}\mbox{\hyperlink{freertos__chess_8c_ab7324679dbbef995936d7af7aff3f086}{00445}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_ab7324679dbbef995936d7af7aff3f086}{chess\_button\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00446}00446\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Initializing\ button\ system..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00447}00447\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00448}00448\ \ \ \textcolor{comment}{//\ WDT\ reset\ pro\ button\ inicializaci}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00449}00449\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00450}00450\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00451}00451\ \ \ \textcolor{comment}{//\ Buttons\ are\ already\ configured\ in\ GPIO\ init}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00452}00452\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ we'll\ simulate\ button\ presses}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00453}00453\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ Button\ system\ initialized"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00454}00454\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ 9\ buttons\ total"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00455}00455\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Promotion\ buttons\ A:\ Queen,\ Rook,\ Bishop,\ Knight"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00456}00456\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Promotion\ buttons\ B:\ Queen,\ Rook,\ Bishop,\ Knight"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00457}00457\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Reset\ button:\ GPIO\%d"{}},\ \mbox{\hyperlink{freertos__chess_8h_a0710f0869f3bcc7820964e85f3d59fa4}{BUTTON\_RESET}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00458}00458\ \ \ \textcolor{comment}{//\ ESP\_LOGI(}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00459}00459\ \ \ \textcolor{comment}{//\ \ \ \ \ TAG,}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00460}00460\ \ \ \textcolor{comment}{//\ \ \ \ \ "{}\ \ -\/\ Simulation\ mode:\ button\ events\ will\ be\ generated}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00461}00461\ \ \ \textcolor{comment}{//\ \ \ \ \ programmatically"{});}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00462}00462\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00463}00463\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00464}00464\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00465}00465\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00466}\mbox{\hyperlink{freertos__chess_8c_a41db379171eabe6fccb60019e0e60549}{00466}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a41db379171eabe6fccb60019e0e60549}{chess\_hardware\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00467}00467\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}===\ Hardware\ Initialization\ ==="{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00468}00468\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00469}00469\ \ \ esp\_err\_t\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00470}00470\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00471}00471\ \ \ \textcolor{comment}{//\ Initialize\ GPIO}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00472}00472\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Initializing\ GPIO..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00473}00473\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00474}00474\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_af8e4ec2ba6554d39c4f7c9574718efdc}{chess\_gpio\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00475}00475\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00476}00476\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}GPIO\ initialization\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00477}00477\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00478}00478\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00479}00479\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ GPIO\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00480}00480\ \ \ vTaskDelay(pdMS\_TO\_TICKS(1));\ \textcolor{comment}{//\ Allow\ other\ tasks\ to\ run}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00481}00481\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00482}00482\ \ \ \textcolor{comment}{//\ Initialize\ LED\ system}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00483}00483\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Initializing\ LED\ system..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00484}00484\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00485}00485\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_ad817d527142431531e86a3f54d66fefd}{chess\_led\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00486}00486\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00487}00487\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}LED\ initialization\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00488}00488\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00489}00489\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00490}00490\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ LED\ system\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00491}00491\ \ \ vTaskDelay(pdMS\_TO\_TICKS(1));\ \textcolor{comment}{//\ Allow\ other\ tasks\ to\ run}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00492}00492\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00493}00493\ \ \ \textcolor{comment}{//\ Initialize\ matrix\ system}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00494}00494\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Initializing\ matrix\ system..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00495}00495\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00496}00496\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_aa7e19c2234c5d2c6b224dbf5d73cd7a9}{chess\_matrix\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00497}00497\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00498}00498\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Matrix\ initialization\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00499}00499\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00500}00500\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00501}00501\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Matrix\ system\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00502}00502\ \ \ vTaskDelay(pdMS\_TO\_TICKS(1));\ \textcolor{comment}{//\ Allow\ other\ tasks\ to\ run}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00503}00503\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00504}00504\ \ \ \textcolor{comment}{//\ Initialize\ button\ system}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00505}00505\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Initializing\ button\ system..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00506}00506\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00507}00507\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_ab7324679dbbef995936d7af7aff3f086}{chess\_button\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00508}00508\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00509}00509\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Button\ initialization\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00510}00510\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00511}00511\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00512}00512\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Button\ system\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00513}00513\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00514}00514\ \ \ \mbox{\hyperlink{freertos__chess_8c_ae37ba709842162d9a8328959d0cb0e05}{hardware\_initialized}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00515}00515\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ All\ hardware\ systems\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00516}00516\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00517}00517\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00518}00518\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00519}00519\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00520}00520\ \textcolor{comment}{//\ FREERTOS\ INITIALIZATION\ FUNCTIONS}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00521}00521\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00522}00522\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00523}\mbox{\hyperlink{freertos__chess_8c_a918837616a81eb433243f2c1e109f73a}{00523}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a918837616a81eb433243f2c1e109f73a}{chess\_create\_queues}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00524}00524\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}===\ CREATING\ FREERTOS\ QUEUES\ ==="{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00525}00525\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Free\ heap\ before\ queues:\ \%zu\ bytes"{}},\ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00526}00526\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Min\ free\ heap:\ \%zu\ bytes"{}},\ esp\_get\_minimum\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00527}00527\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00528}00528\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00529}00529\ \ \ \textcolor{comment}{//\ WDT\ reset\ pro\ vytváření\ front}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00530}00530\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00531}00531\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00532}00532\ \ \ \textcolor{comment}{//\ CRITICAL:\ Check\ heap\ availability\ before\ creating\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00533}00533\ \ \ \textcolor{keywordtype}{size\_t}\ free\_heap\ =\ esp\_get\_free\_heap\_size();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00534}00534\ \ \ \textcolor{keywordflow}{if}\ (free\_heap\ <\ 50000)\ \{\ \textcolor{comment}{//\ Minimum\ 50KB\ free\ heap\ required}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00535}00535\ \ \ \ \ ESP\_LOGE(}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00536}00536\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00537}00537\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Insufficient\ free\ heap\ for\ queue\ creation:\ \%zu\ bytes\ (minimum\ 50000)"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00538}00538\ \ \ \ \ \ \ \ \ free\_heap);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00539}00539\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_NO\_MEM;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00540}00540\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00541}00541\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00542}00542\ \ \ \textcolor{comment}{//\ LED\ queues\ -\/\ REMOVED:\ Using\ direct\ LED\ calls\ instead}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00543}00543\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ LED\ queues\ removed\ -\/\ using\ direct\ LED\ calls"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00544}00544\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ LED\ system\ simplified.\ Free\ heap:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00545}00545\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00546}00546\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00547}00547\ \ \ \textcolor{comment}{//\ Matrix\ event\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00548}00548\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ Matrix\ queues..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00549}00549\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Matrix\ Event\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00550}00550\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a579e6003d89168493306bca5848f301a}{MATRIX\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structmatrix__event__t}{matrix\_event\_t}}));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00551}00551\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a1b93ff1badbca8962927cb6fd837463e}{matrix\_event\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a579e6003d89168493306bca5848f301a}{MATRIX\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00552}00552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structmatrix__event__t}{matrix\_event\_t}}),\ \textcolor{stringliteral}{"{}Matrix\ Event\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00553}00553\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Matrix\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00554}00554\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a579e6003d89168493306bca5848f301a}{MATRIX\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00555}00555\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_abc01112e6afa1b3e029218e52b7c2196}{matrix\_command\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a579e6003d89168493306bca5848f301a}{MATRIX\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t),}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00556}00556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Matrix\ Command\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00557}00557\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Matrix\ Response\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00558}00558\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a579e6003d89168493306bca5848f301a}{MATRIX\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structgame__response__t}{game\_response\_t}}));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00559}00559\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a9b3fea6e381f159f9e088382e4040d27}{matrix\_response\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a579e6003d89168493306bca5848f301a}{MATRIX\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00560}00560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structgame__response__t}{game\_response\_t}}),\ \textcolor{stringliteral}{"{}Matrix\ Response\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00561}00561\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Matrix\ queues\ created.\ Free\ heap:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00562}00562\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00563}00563\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00564}00564\ \ \ \textcolor{comment}{//\ Button\ event\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00565}00565\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ Button\ queues..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00566}00566\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Button\ Event\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00567}00567\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a6ca45550c06013af8c3cec978a7271ab}{BUTTON\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbutton__event__t}{button\_event\_t}}));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00568}00568\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a05107bbe85fd87a92dad9efd71dbd653}{button\_event\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a6ca45550c06013af8c3cec978a7271ab}{BUTTON\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00569}00569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbutton__event__t}{button\_event\_t}}),\ \textcolor{stringliteral}{"{}Button\ Event\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00570}00570\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Button\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00571}00571\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a6ca45550c06013af8c3cec978a7271ab}{BUTTON\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00572}00572\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a5f1958b9037083cf953f250fe1f364a5}{button\_command\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a6ca45550c06013af8c3cec978a7271ab}{BUTTON\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t),}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00573}00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Button\ Command\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00574}00574\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Button\ queues\ created.\ Free\ heap:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00575}00575\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00576}00576\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00577}00577\ \ \ \textcolor{comment}{//\ UART\ communication\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00578}00578\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ UART\ queues..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00579}00579\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ UART\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},\ \mbox{\hyperlink{freertos__chess_8h_a1e15a8ac2f944de5c675aa81c1c653c4}{UART\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00580}00580\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}[64]));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00581}00581\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a7e436e9dcca9a044bb9264755b4caa9e}{uart\_command\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a1e15a8ac2f944de5c675aa81c1c653c4}{UART\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}[64]),}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00582}00582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UART\ Command\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00583}00583\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ UART\ Response\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00584}00584\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_a1e15a8ac2f944de5c675aa81c1c653c4}{UART\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structgame__response__t}{game\_response\_t}}));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00585}00585\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a02a776b41d5e50969e5cf68dcbbc2c69}{uart\_response\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a1e15a8ac2f944de5c675aa81c1c653c4}{UART\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00586}00586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structgame__response__t}{game\_response\_t}}),\ \textcolor{stringliteral}{"{}UART\ Response\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00587}00587\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00588}00588\ \ \ \textcolor{comment}{//\ CRITICAL:\ Create\ UART\ output\ queue\ for\ centralized\ output}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00589}00589\ \ \ \textcolor{keyword}{extern}\ QueueHandle\_t\ \mbox{\hyperlink{uart__task_8h_a6e06eb5d048532e903f597094c601c4c}{uart\_output\_queue}};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00590}00590\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ UART\ Output\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},\ 20,\ 512);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00591}00591\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00592}00592\ \ \ \ \ \ \ \mbox{\hyperlink{uart__task_8h_a6e06eb5d048532e903f597094c601c4c}{uart\_output\_queue}},\ 20,\ 512,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00593}00593\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}UART\ Output\ Queue"{}});\ \textcolor{comment}{//\ Reduced\ from\ 50\ to\ 20\ to\ save\ \string~15\ KB}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00594}00594\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00595}00595\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ UART\ queues\ created.\ Free\ heap:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00596}00596\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00597}00597\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00598}00598\ \ \ \textcolor{comment}{//\ Game\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00599}00599\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ Game\ queues..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00600}00600\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Game\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},\ \mbox{\hyperlink{freertos__chess_8h_a28eeb53d2d0b05fd6f19dd85f101b40e}{GAME\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00601}00601\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structchess__move__command__t}{chess\_move\_command\_t}}));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00602}00602\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a4ed770cbe46604586e494bae84b62304}{game\_command\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a28eeb53d2d0b05fd6f19dd85f101b40e}{GAME\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00603}00603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structchess__move__command__t}{chess\_move\_command\_t}}),\ \textcolor{stringliteral}{"{}Game\ Command\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00604}00604\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Game\ Status\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},\ \mbox{\hyperlink{freertos__chess_8h_a28eeb53d2d0b05fd6f19dd85f101b40e}{GAME\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00605}00605\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(uint8\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00606}00606\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a6dfc9956f36db9a85a34268c6e14b059}{game\_status\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a28eeb53d2d0b05fd6f19dd85f101b40e}{GAME\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t),}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00607}00607\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Game\ Status\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00608}00608\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Game\ queues\ created.\ Free\ heap:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00609}00609\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00610}00610\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00611}00611\ \ \ \textcolor{comment}{//\ Animation\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00612}00612\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ Animation\ queues..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00613}00613\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Animation\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00614}00614\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_affde4e66cef922d3fa060b3013d10c3a}{ANIMATION\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structled__command__t}{led\_command\_t}}));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00615}00615\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a6fa8af7d1c0b048b9f2c363a9fb2b288}{animation\_command\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_affde4e66cef922d3fa060b3013d10c3a}{ANIMATION\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00616}00616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structled__command__t}{led\_command\_t}}),\ \textcolor{stringliteral}{"{}Animation\ Command\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00617}00617\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Animation\ Status\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00618}00618\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_affde4e66cef922d3fa060b3013d10c3a}{ANIMATION\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(esp\_err\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00619}00619\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_ad2c6aca6dc859def2315ed1c26f11aad}{animation\_status\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_affde4e66cef922d3fa060b3013d10c3a}{ANIMATION\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00620}00620\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(esp\_err\_t),\ \textcolor{stringliteral}{"{}Animation\ Status\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00621}00621\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Animation\ queues\ created.\ Free\ heap:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00622}00622\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00623}00623\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00624}00624\ \ \ \textcolor{comment}{//\ Screen\ saver\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00625}00625\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ Screen\ Saver\ queues..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00626}00626\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Screen\ Saver\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00627}00627\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_afd353feba5d0f1707fb7a70438c4dc1f}{SCREEN\_SAVER\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00628}00628\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_ad6e2650c9733357ca904426081ccee72}{screen\_saver\_command\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_afd353feba5d0f1707fb7a70438c4dc1f}{SCREEN\_SAVER\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00629}00629\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(uint8\_t),\ \textcolor{stringliteral}{"{}Screen\ Saver\ Command\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00630}00630\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Screen\ Saver\ Status\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00631}00631\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_afd353feba5d0f1707fb7a70438c4dc1f}{SCREEN\_SAVER\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(esp\_err\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00632}00632\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a494d670fc3ed5c9bf7fc74a908a92712}{screen\_saver\_status\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_afd353feba5d0f1707fb7a70438c4dc1f}{SCREEN\_SAVER\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00633}00633\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(esp\_err\_t),\ \textcolor{stringliteral}{"{}Screen\ Saver\ Status\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00634}00634\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Screen\ Saver\ queues\ created.\ Free\ heap:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00635}00635\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00636}00636\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00637}00637\ \ \ \textcolor{comment}{//\ DISABLED:\ Matter\ control\ queues\ -\/\ Matter\ not\ needed}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00638}00638\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00639}00639\ \textcolor{comment}{\ \ ESP\_LOGI(TAG,\ "{}🔄\ Creating\ Matter\ queues..."{});}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00640}00640\ \textcolor{comment}{\ \ ESP\_LOGI(TAG,\ "{}\ \ -\/\ Matter\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{},}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00641}00641\ \textcolor{comment}{\ \ MATTER\_QUEUE\_SIZE,\ sizeof(uint8\_t));\ SAFE\_CREATE\_QUEUE(matter\_command\_queue,}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00642}00642\ \textcolor{comment}{\ \ MATTER\_QUEUE\_SIZE,\ sizeof(uint8\_t),\ "{}Matter\ Command\ Queue"{});\ ESP\_LOGI(TAG,\ "{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00643}00643\ \textcolor{comment}{\ \ -\/\ Matter\ Status\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{},\ MATTER\_QUEUE\_SIZE,}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00644}00644\ \textcolor{comment}{\ \ sizeof(esp\_err\_t));\ SAFE\_CREATE\_QUEUE(matter\_status\_queue,\ MATTER\_QUEUE\_SIZE,}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00645}00645\ \textcolor{comment}{\ \ sizeof(esp\_err\_t),\ "{}Matter\ Status\ Queue"{});\ ESP\_LOGI(TAG,\ "{}✅\ Matter\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00646}00646\ \textcolor{comment}{\ \ created.\ Free\ heap:\ \%zu\ bytes"{},\ esp\_get\_free\_heap\_size());}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00647}00647\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00648}00648\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00649}00649\ \ \ \textcolor{comment}{//\ Web\ server\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00650}00650\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ Web\ Server\ queues..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00651}00651\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Web\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00652}00652\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_ac550726b2b0adb0539e9dc4f8a1be108}{WEB\_SERVER\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00653}00653\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a642abc1652d446215a18d55b0517edba}{web\_command\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_ac550726b2b0adb0539e9dc4f8a1be108}{WEB\_SERVER\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t),}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00654}00654\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Web\ Command\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00655}00655\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Web\ Server\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00656}00656\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_ac550726b2b0adb0539e9dc4f8a1be108}{WEB\_SERVER\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00657}00657\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_aaed4d7c5bc3e8140853498b965ec94e2}{web\_server\_command\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_ac550726b2b0adb0539e9dc4f8a1be108}{WEB\_SERVER\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00658}00658\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(uint8\_t),\ \textcolor{stringliteral}{"{}Web\ Server\ Command\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00659}00659\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Web\ Server\ Status\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00660}00660\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8h_ac550726b2b0adb0539e9dc4f8a1be108}{WEB\_SERVER\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(esp\_err\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00661}00661\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_aa17b405ee779d94d3b6954dd83712591}{web\_server\_status\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_ac550726b2b0adb0539e9dc4f8a1be108}{WEB\_SERVER\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00662}00662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(esp\_err\_t),\ \textcolor{stringliteral}{"{}Web\ Server\ Status\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00663}00663\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Web\ Server\ queues\ created.\ Free\ heap:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00664}00664\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00665}00665\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00666}00666\ \ \ \textcolor{comment}{//\ Test\ control\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00667}00667\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ Test\ queue..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00668}00668\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ -\/\ Test\ Command\ Queue:\ \%d\ items\ ×\ \%zu\ bytes"{}},\ \mbox{\hyperlink{freertos__chess_8h_a60c0e1e27fef536d95040e98b856975a}{LED\_QUEUE\_SIZE}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00669}00669\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{sizeof}(uint8\_t));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00670}00670\ \ \ \mbox{\hyperlink{freertos__chess_8h_a4821223bcff83669f6b0414b90542738}{SAFE\_CREATE\_QUEUE}}(\mbox{\hyperlink{freertos__chess_8c_a849df7d33a2eeeb8383dab84223a7813}{test\_command\_queue}},\ \mbox{\hyperlink{freertos__chess_8h_a60c0e1e27fef536d95040e98b856975a}{LED\_QUEUE\_SIZE}},\ \textcolor{keyword}{sizeof}(uint8\_t),}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00671}00671\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Test\ Command\ Queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00672}00672\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Test\ queue\ created.\ Free\ heap:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00673}00673\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00674}00674\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00675}00675\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00676}00676\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🎉\ ALL\ FREERTOS\ QUEUES\ CREATED\ SUCCESSFULLY!"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00677}00677\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Final\ free\ heap:\ \%zu\ bytes"{}},\ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00678}00678\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00679}00679\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00680}00680\ \ \ \textcolor{comment}{//\ CRITICAL:\ Validate\ all\ queues\ were\ created\ successfully}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00681}00681\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{freertos__chess_8c_a1b93ff1badbca8962927cb6fd837463e}{matrix\_event\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_abc01112e6afa1b3e029218e52b7c2196}{matrix\_command\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_a9b3fea6e381f159f9e088382e4040d27}{matrix\_response\_queue}}\ ||}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00682}00682\ \ \ \ \ \ \ !\mbox{\hyperlink{freertos__chess_8c_a05107bbe85fd87a92dad9efd71dbd653}{button\_event\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_a5f1958b9037083cf953f250fe1f364a5}{button\_command\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_a7e436e9dcca9a044bb9264755b4caa9e}{uart\_command\_queue}}\ ||}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00683}00683\ \ \ \ \ \ \ !\mbox{\hyperlink{freertos__chess_8c_a02a776b41d5e50969e5cf68dcbbc2c69}{uart\_response\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_a4ed770cbe46604586e494bae84b62304}{game\_command\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_a6dfc9956f36db9a85a34268c6e14b059}{game\_status\_queue}}\ ||}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00684}00684\ \ \ \ \ \ \ !\mbox{\hyperlink{freertos__chess_8c_a6fa8af7d1c0b048b9f2c363a9fb2b288}{animation\_command\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_ad2c6aca6dc859def2315ed1c26f11aad}{animation\_status\_queue}}\ ||}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00685}00685\ \ \ \ \ \ \ !\mbox{\hyperlink{freertos__chess_8c_ad6e2650c9733357ca904426081ccee72}{screen\_saver\_command\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_a494d670fc3ed5c9bf7fc74a908a92712}{screen\_saver\_status\_queue}}\ ||}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00686}00686\ \ \ \ \ \ \ \textcolor{comment}{/*\ !matter\_command\_queue\ ||\ !matter\_status\_queue\ ||\ */}\ \textcolor{comment}{//\ DISABLED\ -\/}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00687}00687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Matter\ not}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00688}00688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ needed}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00689}00689\ \ \ \ \ \ \ !\mbox{\hyperlink{freertos__chess_8c_a642abc1652d446215a18d55b0517edba}{web\_command\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_aaed4d7c5bc3e8140853498b965ec94e2}{web\_server\_command\_queue}}\ ||}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00690}00690\ \ \ \ \ \ \ !\mbox{\hyperlink{freertos__chess_8c_aa17b405ee779d94d3b6954dd83712591}{web\_server\_status\_queue}}\ ||\ !\mbox{\hyperlink{freertos__chess_8c_a849df7d33a2eeeb8383dab84223a7813}{test\_command\_queue}})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00691}00691\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}One\ or\ more\ queues\ failed\ to\ create\ -\/\ system\ initialization\ "{}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00692}00692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}will\ fail"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00693}00693\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_NO\_MEM;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00694}00694\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00695}00695\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00696}00696\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ All\ queue\ handles\ validated\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00697}00697\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00698}00698\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00699}00699\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00700}\mbox{\hyperlink{freertos__chess_8c_a9bb91e5162ab07c0d6e18df6a5a9f43e}{00700}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a9bb91e5162ab07c0d6e18df6a5a9f43e}{chess\_create\_mutexes}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00701}00701\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Creating\ FreeRTOS\ mutexes..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00702}00702\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00703}00703\ \ \ \mbox{\hyperlink{freertos__chess_8h_a9ca3a534387caddce17a0aa3afb7a332}{SAFE\_CREATE\_MUTEX}}(\mbox{\hyperlink{freertos__chess_8c_a864f0cc9b1f2e30bd3c0e225e2c48552}{led\_mutex}},\ \textcolor{stringliteral}{"{}LED\ Mutex"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00704}00704\ \ \ \mbox{\hyperlink{freertos__chess_8h_a9ca3a534387caddce17a0aa3afb7a332}{SAFE\_CREATE\_MUTEX}}(\mbox{\hyperlink{freertos__chess_8c_a80a74d10dccdaa933010d0e5cf7202d8}{matrix\_mutex}},\ \textcolor{stringliteral}{"{}Matrix\ Mutex"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00705}00705\ \ \ \mbox{\hyperlink{freertos__chess_8h_a9ca3a534387caddce17a0aa3afb7a332}{SAFE\_CREATE\_MUTEX}}(\mbox{\hyperlink{freertos__chess_8c_a17744dc0b4a21889e7e9527835edc068}{button\_mutex}},\ \textcolor{stringliteral}{"{}Button\ Mutex"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00706}00706\ \ \ \mbox{\hyperlink{freertos__chess_8h_a9ca3a534387caddce17a0aa3afb7a332}{SAFE\_CREATE\_MUTEX}}(\mbox{\hyperlink{freertos__chess_8c_af5298ceb88597b4b25328ac7e1af7ff0}{game\_mutex}},\ \textcolor{stringliteral}{"{}Game\ Mutex"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00707}00707\ \ \ \mbox{\hyperlink{freertos__chess_8h_a9ca3a534387caddce17a0aa3afb7a332}{SAFE\_CREATE\_MUTEX}}(\mbox{\hyperlink{freertos__chess_8c_a54b3156204f85b12fbf1a9c012730afc}{system\_mutex}},\ \textcolor{stringliteral}{"{}System\ Mutex"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00708}00708\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00709}00709\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ All\ FreeRTOS\ mutexes\ created\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00710}00710\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00711}00711\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00712}00712\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00713}00713\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00714}00714\ \textcolor{comment}{//\ TIMER\ CALLBACK\ FUNCTIONS}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00715}00715\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00716}00716\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00717}00717\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00718}00718\ \textcolor{comment}{//\ COORDINATED\ TIME-\/MULTIPLEXING\ SYSTEM}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00719}00719\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00720}00720\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00741}\mbox{\hyperlink{freertos__chess_8c_adba8746d32cf898252dbb49ef2c7db1b}{00741}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{freertos__chess_8c_adba8746d32cf898252dbb49ef2c7db1b}{coordinated\_multiplex\_timer\_callback}}(TimerHandle\_t\ xTimer)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00742}00742\ \ \ \textcolor{comment}{//\ NOTE:\ Timer\ callbacks\ run\ in\ timer\ service\ task\ context}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00743}00743\ \ \ \textcolor{comment}{//\ which\ is\ not\ registered\ with\ TWDT,\ so\ we\ don't\ call\ WDT\ reset}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00744}00744\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00745}00745\ \ \ \textcolor{keyword}{static}\ uint32\_t\ cycle\_count\ =\ 0;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00746}00746\ \ \ cycle\_count++;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00747}00747\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00748}00748\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00749}00749\ \ \ \textcolor{comment}{//\ PHASE\ 1:\ MATRIX\ SCAN\ WINDOW\ (0-\/20ms)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00750}00750\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00751}00751\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00752}00752\ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{led__task_8c_ac4220888456a96a1308bbf06df3730b8}{matrix\_scanning\_enabled}};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00753}00753\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{led__task_8c_ac4220888456a96a1308bbf06df3730b8}{matrix\_scanning\_enabled}})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00754}00754\ \ \ \ \ \textcolor{comment}{//\ Call\ matrix\ scanning\ function}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00755}00755\ \ \ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__task_8h_a86518ffc745875b5c3c34d7c96f7e186}{matrix\_scan\_all}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00756}00756\ \ \ \ \ \mbox{\hyperlink{matrix__task_8h_a86518ffc745875b5c3c34d7c96f7e186}{matrix\_scan\_all}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00757}00757\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00758}00758\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00759}00759\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00760}00760\ \ \ \textcolor{comment}{//\ PHASE\ 2:\ PREPARE\ FOR\ BUTTON\ SCAN\ (release\ matrix\ pins)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00761}00761\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00762}00762\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00763}00763\ \ \ \textcolor{comment}{//\ Release\ matrix\ row\ pins\ so\ button\ task\ can\ read\ column\ pins\ cleanly}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00764}00764\ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__task_8h_a9afd14fa75a6cfa6e37480b4935cd285}{matrix\_release\_pins}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00765}00765\ \ \ \mbox{\hyperlink{matrix__task_8h_a9afd14fa75a6cfa6e37480b4935cd285}{matrix\_release\_pins}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00766}00766\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00767}00767\ \ \ \textcolor{comment}{//\ Small\ delay\ to\ ensure\ pins\ are\ settled\ (propagation\ delay)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00768}00768\ \ \ \textcolor{comment}{//\ ESP32-\/C6\ runs\ at\ 160MHz,\ 1us\ =\ 160\ cycles,\ plenty\ of\ time\ for\ GPIO\ settling}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00769}00769\ \ \ \textcolor{comment}{//\ We\ use\ vTaskDelay\ with\ portTICK\_PERIOD\_MS\ =\ 1ms\ minimum\ on\ FreeRTOS}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00770}00770\ \ \ \textcolor{comment}{//\ Actually,\ no\ delay\ needed\ -\/\ GPIO\ changes\ are\ instant\ on\ ESP32}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00771}00771\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00772}00772\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00773}00773\ \ \ \textcolor{comment}{//\ PHASE\ 3:\ BUTTON\ SCAN\ WINDOW\ (20-\/25ms)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00774}00774\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00775}00775\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00776}00776\ \ \ \textcolor{comment}{//\ Call\ button\ scanning\ function}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00777}00777\ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{button__task_8c_a5fb2a771d8252d20fc0ad4d97667d4df}{button\_scan\_all}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00778}00778\ \ \ \mbox{\hyperlink{button__task_8c_a5fb2a771d8252d20fc0ad4d97667d4df}{button\_scan\_all}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00779}00779\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00780}00780\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00781}00781\ \ \ \textcolor{comment}{//\ PHASE\ 4:\ CLEANUP\ (prepare\ for\ next\ cycle)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00782}00782\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00783}00783\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00784}00784\ \ \ \textcolor{comment}{//\ Re-\/acquire\ matrix\ pins\ for\ next\ matrix\ scan\ cycle}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00785}00785\ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__task_8h_a8162927b4230f6777b1d42deec017797}{matrix\_acquire\_pins}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00786}00786\ \ \ \mbox{\hyperlink{matrix__task_8h_a8162927b4230f6777b1d42deec017797}{matrix\_acquire\_pins}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00787}00787\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00788}00788\ \ \ \textcolor{comment}{//\ Debug\ logging\ every\ 1000\ cycles\ (25\ seconds)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00789}00789\ \ \ \textcolor{keywordflow}{if}\ (cycle\_count\ \%\ 1000\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00790}00790\ \ \ \ \ ESP\_LOGD(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Multiplexing\ cycle\ \%lu\ completed"{}},\ cycle\_count);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00791}00791\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00792}00792\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00793}00793\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00794}00794\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00795}00795\ \textcolor{comment}{//\ LEGACY\ TIMER\ CALLBACKS\ (kept\ for\ compatibility,\ not\ used)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00796}00796\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00797}00797\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00802}\mbox{\hyperlink{freertos__chess_8c_a60ba01ed8c95cf7326c889ea1b6a2bc2}{00802}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{freertos__chess_8c_a60ba01ed8c95cf7326c889ea1b6a2bc2}{button\_scan\_timer\_callback}}(TimerHandle\_t\ xTimer)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00803}00803\ \ \ \textcolor{comment}{//\ NOTE:\ This\ callback\ is\ NOT\ used\ when\ coordinated\ multiplexing\ is\ active}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00804}00804\ \ \ \textcolor{comment}{//\ Kept\ for\ backward\ compatibility\ only}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00805}00805\ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{button__task_8c_a5fb2a771d8252d20fc0ad4d97667d4df}{button\_scan\_all}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00806}00806\ \ \ \mbox{\hyperlink{button__task_8c_a5fb2a771d8252d20fc0ad4d97667d4df}{button\_scan\_all}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00807}00807\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00808}00808\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00813}\mbox{\hyperlink{freertos__chess_8c_a904cb90015996d3ad0532e71bc502318}{00813}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{freertos__chess_8c_a904cb90015996d3ad0532e71bc502318}{matrix\_scan\_timer\_callback}}(TimerHandle\_t\ xTimer)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00814}00814\ \ \ \textcolor{comment}{//\ NOTE:\ This\ callback\ is\ NOT\ used\ when\ coordinated\ multiplexing\ is\ active}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00815}00815\ \ \ \textcolor{comment}{//\ Kept\ for\ backward\ compatibility\ only}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00816}00816\ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{led__task_8c_ac4220888456a96a1308bbf06df3730b8}{matrix\_scanning\_enabled}};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00817}00817\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{led__task_8c_ac4220888456a96a1308bbf06df3730b8}{matrix\_scanning\_enabled}})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00818}00818\ \ \ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{matrix__task_8h_a86518ffc745875b5c3c34d7c96f7e186}{matrix\_scan\_all}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00819}00819\ \ \ \ \ \mbox{\hyperlink{matrix__task_8h_a86518ffc745875b5c3c34d7c96f7e186}{matrix\_scan\_all}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00820}00820\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00821}00821\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00822}00822\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00827}\mbox{\hyperlink{freertos__chess_8c_ae46cffe2b1cbbb95b41ce73ada4e7ecd}{00827}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{freertos__chess_8c_ae46cffe2b1cbbb95b41ce73ada4e7ecd}{led\_update\_timer\_callback}}(TimerHandle\_t\ xTimer)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00828}00828\ \ \ \textcolor{comment}{//\ NOTE:\ Timer\ callbacks\ run\ in\ timer\ service\ task\ context}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00829}00829\ \ \ \textcolor{comment}{//\ which\ is\ not\ registered\ with\ TWDT,\ so\ we\ don't\ call\ WDT\ reset}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00830}00830\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00831}00831\ \ \ \textcolor{comment}{//\ Periodické\ obnovení\ LED\ pro\ prevenci\ bílého\ blikání}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00832}00832\ \ \ \textcolor{comment}{//\ This\ ensures\ LED\ strip\ gets\ regular\ updates\ even\ when\ no\ commands\ are\ sent}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00833}00833\ \ \ \mbox{\hyperlink{led__task_8h_a35ed753e036a2372ea57df822d92f154}{led\_force\_immediate\_update}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00834}00834\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00835}00835\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00836}\mbox{\hyperlink{freertos__chess_8c_ad4a9b6f60cb5280918a47885121ea229}{00836}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_ad4a9b6f60cb5280918a47885121ea229}{chess\_create\_timers}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00837}00837\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Creating\ FreeRTOS\ timers..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00838}00838\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00839}00839\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00840}00840\ \ \ \textcolor{comment}{//\ COORDINATED\ TIME-\/MULTIPLEXING\ TIMER\ (NEW\ SYSTEM)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00841}00841\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00842}00842\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00843}00843\ \ \ \textcolor{comment}{//\ Create\ coordinated\ multiplexing\ timer\ (25ms\ period)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00844}00844\ \ \ \textcolor{comment}{//\ This\ timer\ handles\ both\ matrix\ and\ button\ scanning\ in\ coordinated\ phases}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00845}00845\ \ \ \mbox{\hyperlink{freertos__chess_8c_a0042f9cdb2f225fa940e25e47b2610ec}{coordinated\_multiplex\_timer}}\ =\ xTimerCreate(}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00846}00846\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}CoordMux"{}},\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Timer\ name}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00847}00847\ \ \ \ \ \ \ pdMS\_TO\_TICKS(\mbox{\hyperlink{freertos__chess_8h_a519b0c7ea34c85b7e4c7144095820e65}{TOTAL\_CYCLE\_TIME\_MS}}),\ \ \textcolor{comment}{//\ Period:\ 25ms\ (full\ cycle)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00848}00848\ \ \ \ \ \ \ pdTRUE,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Auto-\/reload}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00849}00849\ \ \ \ \ \ \ NULL,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Timer\ ID\ (unused)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00850}00850\ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8c_adba8746d32cf898252dbb49ef2c7db1b}{coordinated\_multiplex\_timer\_callback}}\ \textcolor{comment}{//\ Callback\ function}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00851}00851\ \ \ );}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00852}00852\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00853}00853\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{freertos__chess_8c_a0042f9cdb2f225fa940e25e47b2610ec}{coordinated\_multiplex\_timer}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00854}00854\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ create\ coordinated\ multiplexing\ timer"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00855}00855\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_NO\_MEM;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00856}00856\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00857}00857\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00858}00858\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ Coordinated\ multiplexing\ timer\ created\ (25ms\ period)"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00859}00859\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Phase\ 1\ (0-\/20ms):\ \ Matrix\ scan\ window"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00860}00860\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Phase\ 2\ (20-\/21ms):\ Pin\ release\ \&\ settling"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00861}00861\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Phase\ 3\ (21-\/25ms):\ Button\ scan\ window"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00862}00862\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00863}00863\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00864}00864\ \ \ \textcolor{comment}{//\ LEGACY\ TIMERS\ (kept\ for\ backward\ compatibility,\ not\ started)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00865}00865\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00866}00866\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00867}00867\ \ \ \textcolor{comment}{//\ Matrix\ scan\ timer\ (20ms\ period)\ -\/\ LEGACY,\ not\ used}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00868}00868\ \ \ \mbox{\hyperlink{freertos__chess_8c_ad589ad22574a5fdb69645141759216c4}{matrix\_scan\_timer}}\ =}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00869}00869\ \ \ \ \ \ \ xTimerCreate(\textcolor{stringliteral}{"{}MatrixScan"{}},\ pdMS\_TO\_TICKS(\mbox{\hyperlink{freertos__chess_8h_ab3d042ad7a50f8a44015cc2a749d3fa4}{MATRIX\_SCAN\_TIME\_MS}}),\ pdTRUE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00870}00870\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ NULL,\ \mbox{\hyperlink{freertos__chess_8c_a904cb90015996d3ad0532e71bc502318}{matrix\_scan\_timer\_callback}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00871}00871\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{freertos__chess_8c_ad589ad22574a5fdb69645141759216c4}{matrix\_scan\_timer}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00872}00872\ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ create\ legacy\ matrix\ scan\ timer\ (not\ critical)"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00873}00873\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00874}00874\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00875}00875\ \ \ \textcolor{comment}{//\ Button\ scan\ timer\ (5ms\ period)\ -\/\ LEGACY,\ not\ used}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00876}00876\ \ \ \mbox{\hyperlink{freertos__chess_8c_af58f98e02d7d24dcc49a348ea1f22e77}{button\_scan\_timer}}\ =}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00877}00877\ \ \ \ \ \ \ xTimerCreate(\textcolor{stringliteral}{"{}ButtonScan"{}},\ pdMS\_TO\_TICKS(\mbox{\hyperlink{freertos__chess_8h_a3f22d026310bf8c1f12bbed516a074ea}{BUTTON\_SCAN\_TIME\_MS}}),\ pdTRUE,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00878}00878\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ NULL,\ \mbox{\hyperlink{freertos__chess_8c_a60ba01ed8c95cf7326c889ea1b6a2bc2}{button\_scan\_timer\_callback}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00879}00879\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{freertos__chess_8c_af58f98e02d7d24dcc49a348ea1f22e77}{button\_scan\_timer}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00880}00880\ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ create\ legacy\ button\ scan\ timer\ (not\ critical)"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00881}00881\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00882}00882\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00883}00883\ \ \ \textcolor{comment}{//\ Timer\ pro\ periodické\ obnovení\ LED}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00884}00884\ \ \ \mbox{\hyperlink{freertos__chess_8c_a9bd4853603c685d45ba49977256c7567}{led\_update\_timer}}\ =\ xTimerCreate(\textcolor{stringliteral}{"{}LEDUpdate"{}},\ pdMS\_TO\_TICKS(25),\ pdTRUE,\ NULL,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00885}00885\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8c_ae46cffe2b1cbbb95b41ce73ada4e7ecd}{led\_update\_timer\_callback}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00886}00886\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{freertos__chess_8c_a9bd4853603c685d45ba49977256c7567}{led\_update\_timer}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00887}00887\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ create\ LED\ update\ timer"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00888}00888\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_NO\_MEM;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00889}00889\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00890}00890\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ LED\ update\ timer\ created\ (25ms\ period)"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00891}00891\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00892}00892\ \ \ \textcolor{comment}{//\ System\ health\ timer\ -\/\ DISABLED\ (was\ causing\ crashes\ with\ NULL\ callback)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00893}00893\ \ \ \textcolor{comment}{//\ system\_health\_timer\ =\ xTimerCreate("{}SystemHealth"{},\ pdMS\_TO\_TICKS(30000),}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00894}00894\ \ \ \textcolor{comment}{//\ pdTRUE,\ NULL,\ NULL);\ if\ (system\_health\_timer\ ==\ NULL)\ \{}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00895}00895\ \ \ \textcolor{comment}{//\ \ \ \ \ ESP\_LOGE(TAG,\ "{}Failed\ to\ create\ system\ health\ timer"{});}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00896}00896\ \ \ \textcolor{comment}{//\ \ \ \ \ return\ ESP\_ERR\_NO\_MEM;}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00897}00897\ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00898}00898\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00899}00899\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ All\ FreeRTOS\ timers\ created\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00900}00900\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00901}00901\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00902}00902\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00903}\mbox{\hyperlink{freertos__chess_8c_a315226a40faf8a392b6328ed7c26340f}{00903}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a315226a40faf8a392b6328ed7c26340f}{chess\_start\_timers}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00904}00904\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Starting\ FreeRTOS\ timers..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00905}00905\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00906}00906\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00907}00907\ \ \ \textcolor{comment}{//\ START\ COORDINATED\ MULTIPLEXING\ TIMER\ (NEW\ SYSTEM)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00908}00908\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00909}00909\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00910}00910\ \ \ \textcolor{comment}{//\ Start\ coordinated\ multiplexing\ timer\ (handles\ both\ matrix\ and\ button}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00911}00911\ \ \ \textcolor{comment}{//\ scanning)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00912}00912\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{freertos__chess_8c_a0042f9cdb2f225fa940e25e47b2610ec}{coordinated\_multiplex\_timer}}\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00913}00913\ \ \ \ \ \textcolor{keywordflow}{if}\ (xTimerStart(\mbox{\hyperlink{freertos__chess_8c_a0042f9cdb2f225fa940e25e47b2610ec}{coordinated\_multiplex\_timer}},\ 0)\ !=\ pdPASS)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00914}00914\ \ \ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ start\ coordinated\ multiplexing\ timer"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00915}00915\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_STATE;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00916}00916\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00917}00917\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ Coordinated\ multiplexing\ timer\ started\ (25ms\ cycle)"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00918}00918\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ ✅\ Matrix\ and\ button\ scanning\ are\ now\ coordinated!"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00919}00919\ \ \ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ ✅\ No\ GPIO\ conflicts\ -\/\ clean\ time-\/multiplexing\ active"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00920}00920\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00921}00921\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Coordinated\ multiplexing\ timer\ is\ NULL!"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00922}00922\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_STATE;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00923}00923\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00924}00924\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00925}00925\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00926}00926\ \ \ \textcolor{comment}{//\ LEGACY\ TIMERS\ (DO\ NOT\ START\ -\/\ would\ cause\ conflicts)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00927}00927\ \ \ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00928}00928\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00929}00929\ \ \ \textcolor{comment}{//\ DO\ NOT\ start\ legacy\ matrix\_scan\_timer\ -\/\ would\ conflict\ with\ coordinated}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00930}00930\ \ \ \textcolor{comment}{//\ timer}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00931}00931\ \ \ ESP\_LOGI(}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00932}00932\ \ \ \ \ \ \ \mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00933}00933\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ ⏸️\ \ Legacy\ matrix\ scan\ timer\ NOT\ started\ (coordinated\ system\ active)"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00934}00934\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00935}00935\ \ \ \textcolor{comment}{//\ DO\ NOT\ start\ legacy\ button\_scan\_timer\ -\/\ would\ conflict\ with\ coordinated}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00936}00936\ \ \ \textcolor{comment}{//\ timer}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00937}00937\ \ \ ESP\_LOGI(}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00938}00938\ \ \ \ \ \ \ \mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00939}00939\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ ⏸️\ \ Legacy\ button\ scan\ timer\ NOT\ started\ (coordinated\ system\ active)"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00940}00940\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00941}00941\ \ \ \textcolor{comment}{//\ ❌\ DISABLED:\ LED\ update\ timer\ causes\ WDT\ errors\ (timer\ service\ task\ not}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00942}00942\ \ \ \textcolor{comment}{//\ registered\ with\ TWDT)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00943}00943\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00944}00944\ \textcolor{comment}{\ \ if\ (led\_update\_timer\ !=\ NULL)\ \{}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00945}00945\ \textcolor{comment}{\ \ \ \ \ \ if\ (xTimerStart(led\_update\_timer,\ 0)\ !=\ pdPASS)\ \{}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00946}00946\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ ESP\_LOGE(TAG,\ "{}Failed\ to\ start\ LED\ update\ timer"{});}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00947}00947\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ return\ ESP\_ERR\_INVALID\_STATE;}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00948}00948\ \textcolor{comment}{\ \ \ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00949}00949\ \textcolor{comment}{\ \ \ \ \ \ ESP\_LOGI(TAG,\ "{}✓\ LED\ update\ timer\ started\ (25ms\ period)"{});}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00950}00950\ \textcolor{comment}{\ \ \}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00951}00951\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00952}00952\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ ⏸️\ \ LED\ update\ timer\ DISABLED\ (causes\ WDT\ errors)"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00953}00953\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00954}00954\ \ \ \textcolor{comment}{//\ System\ health\ timer\ -\/\ DISABLED\ (was\ causing\ crashes)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00955}00955\ \ \ \textcolor{comment}{//\ if\ (system\_health\_timer\ !=\ NULL)\ \{}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00956}00956\ \ \ \textcolor{comment}{//\ \ \ \ \ if\ (xTimerStart(system\_health\_timer,\ 0)\ !=\ pdPASS)\ \{}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00957}00957\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ ESP\_LOGE(TAG,\ "{}Failed\ to\ start\ system\ health\ timer"{});}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00958}00958\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ return\ ESP\_ERR\_INVALID\_STATE;}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00959}00959\ \ \ \textcolor{comment}{//\ \ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00960}00960\ \ \ \textcolor{comment}{//\ \ \ \ \ ESP\_LOGI(TAG,\ "{}✓\ System\ health\ timer\ started"{});}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00961}00961\ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00962}00962\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00963}00963\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ All\ FreeRTOS\ timers\ started\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00964}00964\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00965}00965\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🎯\ TIME-\/MULTIPLEXING\ SYSTEM\ ACTIVE!"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00966}00966\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00967}00967\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00968}00968\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00969}00969\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00970}\mbox{\hyperlink{freertos__chess_8c_aadded4ebb2b88babdb6319afda065872}{00970}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_aadded4ebb2b88babdb6319afda065872}{chess\_freertos\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00971}00971\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}===\ FreeRTOS\ Initialization\ ==="{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00972}00972\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Free\ heap\ before\ FreeRTOS\ init:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00973}00973\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00974}00974\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Min\ free\ heap:\ \%zu\ bytes"{}},\ esp\_get\_minimum\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00975}00975\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00976}00976\ \ \ \textcolor{comment}{//\ Don't\ reset\ watchdog\ here\ -\/\ it\ might\ not\ be\ initialized\ yet}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00977}00977\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00978}00978\ \ \ esp\_err\_t\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00979}00979\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00980}00980\ \ \ \textcolor{comment}{//\ Create\ queues}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00981}00981\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ FreeRTOS\ queues..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00982}00982\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_a918837616a81eb433243f2c1e109f73a}{chess\_create\_queues}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00983}00983\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00984}00984\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Queue\ creation\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00985}00985\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00986}00986\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00987}00987\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ FreeRTOS\ queues\ created\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00988}00988\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00989}00989\ \ \ \textcolor{comment}{//\ Create\ mutexes}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00990}00990\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ FreeRTOS\ mutexes..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00991}00991\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_a9bb91e5162ab07c0d6e18df6a5a9f43e}{chess\_create\_mutexes}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00992}00992\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00993}00993\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Mutex\ creation\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00994}00994\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00995}00995\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00996}00996\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ FreeRTOS\ mutexes\ created\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00997}00997\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00998}00998\ \ \ \textcolor{comment}{//\ Create\ timers}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l00999}00999\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Creating\ FreeRTOS\ timers..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01000}01000\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_ad4a9b6f60cb5280918a47885121ea229}{chess\_create\_timers}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01001}01001\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01002}01002\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Timer\ creation\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01003}01003\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01004}01004\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01005}01005\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ FreeRTOS\ timers\ created\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01006}01006\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01007}01007\ \ \ \mbox{\hyperlink{freertos__chess_8c_a32091f1b25b0412e3f75b7fb3dff4b90}{freertos\_initialized}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01008}01008\ \ \ \textcolor{comment}{//\ Don't\ reset\ watchdog\ here\ -\/\ it\ might\ not\ be\ initialized\ yet}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01009}01009\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🎉\ FreeRTOS\ infrastructure\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01010}01010\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01011}01011\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01012}01012\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01013}01013\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01014}01014\ \textcolor{comment}{//\ SYSTEM\ UTILITY\ FUNCTIONS}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01015}01015\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01016}01016\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01017}\mbox{\hyperlink{freertos__chess_8c_a8d34f1ba2358585af189badda7f0d051}{01017}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a8d34f1ba2358585af189badda7f0d051}{chess\_nvs\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01018}01018\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Initializing\ NVS\ flash..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01019}01019\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01020}01020\ \ \ esp\_err\_t\ ret\ =\ nvs\_flash\_init();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01021}01021\ \ \ \textcolor{keywordflow}{if}\ (ret\ ==\ ESP\_ERR\_NVS\_NO\_FREE\_PAGES\ ||}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01022}01022\ \ \ \ \ \ \ ret\ ==\ ESP\_ERR\_NVS\_NEW\_VERSION\_FOUND)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01023}01023\ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}NVS\ partition\ was\ truncated\ and\ erased"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01024}01024\ \ \ \ \ ESP\_ERROR\_CHECK(nvs\_flash\_erase());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01025}01025\ \ \ \ \ ret\ =\ nvs\_flash\_init();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01026}01026\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01027}01027\ \ \ ESP\_ERROR\_CHECK(ret);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01028}01028\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01029}01029\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✓\ NVS\ flash\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01030}01030\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01031}01031\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01032}01032\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01033}\mbox{\hyperlink{freertos__chess_8c_ae3398aa451de52fedd3ac9e5830fca76}{01033}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_ae3398aa451de52fedd3ac9e5830fca76}{chess\_system\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01034}01034\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}===\ System\ Initialization\ ==="{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01035}01035\ \ \ \textcolor{comment}{//\ Don't\ reset\ watchdog\ here\ -\/\ it\ might\ not\ be\ initialized\ yet}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01036}01036\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Starting\ NVS\ initialization..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01037}01037\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01038}01038\ \ \ esp\_err\_t\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01039}01039\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01040}01040\ \ \ \textcolor{comment}{//\ Initialize\ NVS}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01041}01041\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_a8d34f1ba2358585af189badda7f0d051}{chess\_nvs\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01042}01042\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01043}01043\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}NVS\ initialization\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01044}01044\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01045}01045\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01046}01046\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ NVS\ initialization\ completed\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01047}01047\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01048}01048\ \ \ \textcolor{comment}{//\ Initialize\ hardware}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01049}01049\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Starting\ hardware\ initialization..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01050}01050\ \ \ \textcolor{comment}{//\ WDT\ reset\ removed\ during\ initialization\ //\ Reset\ watchdog\ before\ hardware}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01051}01051\ \ \ \textcolor{comment}{//\ initialization}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01052}01052\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_a41db379171eabe6fccb60019e0e60549}{chess\_hardware\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01053}01053\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01054}01054\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Hardware\ initialization\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01055}01055\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01056}01056\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01057}01057\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Hardware\ initialization\ completed\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01058}01058\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01059}01059\ \ \ \textcolor{comment}{//\ Initialize\ memory\ optimization\ systems}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01060}01060\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Starting\ memory\ optimization\ systems\ initialization..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01061}01061\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_ac2f54e3f77005d32b1df12eca333ed3e}{chess\_memory\_systems\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01062}01062\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01063}01063\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Memory\ systems\ initialization\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01064}01064\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01065}01065\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01066}01066\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Memory\ optimization\ systems\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01067}01067\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01068}01068\ \ \ \textcolor{comment}{//\ Initialize\ FreeRTOS\ infrastructure}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01069}01069\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Starting\ FreeRTOS\ infrastructure\ initialization..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01070}01070\ \ \ ret\ =\ \mbox{\hyperlink{freertos__chess_8c_aadded4ebb2b88babdb6319afda065872}{chess\_freertos\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01071}01071\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01072}01072\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}FreeRTOS\ initialization\ failed"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01073}01073\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01074}01074\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01075}01075\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01076}01076\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}✅\ FreeRTOS\ infrastructure\ initialization\ completed\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01077}01077\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01078}01078\ \ \ \mbox{\hyperlink{freertos__chess_8c_ab2336e816f0a31f0e3e85fba396e4340}{system\_initialized}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01079}01079\ \ \ \textcolor{comment}{//\ Don't\ reset\ watchdog\ here\ -\/\ it\ might\ not\ be\ initialized\ yet}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01080}01080\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🎉\ System\ initialization\ completed\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01081}01081\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01082}01082\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01083}01083\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01084}\mbox{\hyperlink{freertos__chess_8c_a1fc97de08523b766a876d7688a3bdae3}{01084}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a1fc97de08523b766a876d7688a3bdae3}{chess\_check\_memory\_health}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01085}01085\ \ \ \textcolor{keywordtype}{size\_t}\ free\_heap\ =\ esp\_get\_free\_heap\_size();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01086}01086\ \ \ \textcolor{keywordtype}{size\_t}\ min\_free\_heap\ =\ esp\_get\_minimum\_free\_heap\_size();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01087}01087\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01088}01088\ \ \ \textcolor{keywordflow}{if}\ (free\_heap\ <\ 10000)\ \{\ \textcolor{comment}{//\ Less\ than\ 10KB\ free}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01089}01089\ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Low\ memory\ warning:\ \%zu\ bytes\ free"{}},\ free\_heap);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01090}01090\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_NO\_MEM;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01091}01091\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01092}01092\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01093}01093\ \ \ \textcolor{keywordflow}{if}\ (free\_heap\ <\ 5000)\ \{\ \textcolor{comment}{//\ Less\ than\ 5KB\ free}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01094}01094\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Critical\ memory\ warning:\ \%zu\ bytes\ free"{}},\ free\_heap);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01095}01095\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_NO\_MEM;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01096}01096\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01097}01097\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01098}01098\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Memory\ health:\ \%zu\ bytes\ free,\ \%zu\ bytes\ minimum"{}},\ free\_heap,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01099}01099\ \ \ \ \ \ \ \ \ \ \ \ min\_free\_heap);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01100}01100\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01101}01101\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01102}01102\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01103}\mbox{\hyperlink{freertos__chess_8c_a0321f7ecdafb014dbfb05309bf810493}{01103}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a0321f7ecdafb014dbfb05309bf810493}{chess\_monitor\_tasks}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01104}01104\ \ \ UBaseType\_t\ task\_count\ =\ uxTaskGetNumberOfTasks();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01105}01105\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01106}01106\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Task\ monitoring:\ \%d\ active\ tasks"{}},\ task\_count);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01107}01107\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01108}01108\ \ \ \textcolor{keywordflow}{if}\ (task\_count\ <\ 5)\ \{\ \textcolor{comment}{//\ Should\ have\ at\ least\ 5\ tasks}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01109}01109\ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Low\ task\ count\ warning:\ \%d\ tasks"{}},\ task\_count);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01110}01110\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_STATE;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01111}01111\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01112}01112\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01113}01113\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01114}01114\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01115}01115\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01116}\mbox{\hyperlink{freertos__chess_8c_acc6c5ec2b59b331d0d27ef56a9f0c462}{01116}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{freertos__chess_8c_acc6c5ec2b59b331d0d27ef56a9f0c462}{chess\_print\_system\_info}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01117}01117\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01118}01118\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}ESP32-\/C6\ Chess\ System\ v2.4\ Information"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01119}01119\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01120}01120\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Version:\ \%s"{}},\ \mbox{\hyperlink{freertos__chess_8h_acc0d1902b8ef5d4934f99724427e5bc4}{CHESS\_VERSION\_STRING}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01121}01121\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Build\ Date:\ \%s"{}},\ \mbox{\hyperlink{freertos__chess_8h_a8b1a270b4e32e22a214ff3ad8e670ef7}{CHESS\_BUILD\_DATE}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01122}01122\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Author:\ \%s"{}},\ \mbox{\hyperlink{freertos__chess_8h_afbda35de111776579b8d9abad085db4d}{CHESS\_SYSTEM\_AUTHOR}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01123}01123\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01124}01124\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Hardware\ Configuration:"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01125}01125\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ LED\ Data\ Pin:\ GPIO\%d"{}},\ \mbox{\hyperlink{freertos__chess_8h_a5f55b07707df2f2cf371f707207ed508}{LED\_DATA\_PIN}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01126}01126\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Status\ LED:\ GPIO\%d"{}},\ \mbox{\hyperlink{freertos__chess_8h_a089a71f836911c71b3f73fdd3b4b890b}{STATUS\_LED\_PIN}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01127}01127\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Reset\ Button:\ GPIO\%d"{}},\ \mbox{\hyperlink{freertos__chess_8h_a0710f0869f3bcc7820964e85f3d59fa4}{BUTTON\_RESET}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01128}01128\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Matrix:\ 8x8\ reed\ switches"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01129}01129\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Buttons:\ 9\ total\ (promotion\ +\ reset)"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01130}01130\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01131}01131\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}System\ Status:"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01132}01132\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Hardware:\ \%s"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01133}01133\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8c_ae37ba709842162d9a8328959d0cb0e05}{hardware\_initialized}}\ ?\ \textcolor{stringliteral}{"{}✓\ Initialized"{}}\ :\ \textcolor{stringliteral}{"{}✗\ Not\ initialized"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01134}01134\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ FreeRTOS:\ \%s"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01135}01135\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8c_a32091f1b25b0412e3f75b7fb3dff4b90}{freertos\_initialized}}\ ?\ \textcolor{stringliteral}{"{}✓\ Initialized"{}}\ :\ \textcolor{stringliteral}{"{}✗\ Not\ initialized"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01136}01136\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ System:\ \%s"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01137}01137\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{freertos__chess_8c_ab2336e816f0a31f0e3e85fba396e4340}{system\_initialized}}\ ?\ \textcolor{stringliteral}{"{}✓\ Initialized"{}}\ :\ \textcolor{stringliteral}{"{}✗\ Not\ initialized"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01138}01138\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01139}01139\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Memory\ Information:"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01140}01140\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Free\ Heap:\ \%zu\ bytes"{}},\ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01141}01141\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Minimum\ Free:\ \%zu\ bytes"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01142}01142\ \ \ \ \ \ \ \ \ \ \ \ esp\_get\_minimum\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01143}01143\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Total\ Free:\ \%zu\ bytes"{}},\ esp\_get\_free\_heap\_size());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01144}01144\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01145}01145\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Task\ Information:"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01146}01146\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}\ \ •\ Active\ Tasks:\ \%d"{}},\ uxTaskGetNumberOfTasks());}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01147}01147\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}========================================"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01148}01148\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01149}01149\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01150}01150\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01151}01151\ \textcolor{comment}{//\ HARDWARE\ ABSTRACTION\ FUNCTIONS}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01152}01152\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01153}01153\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01154}\mbox{\hyperlink{freertos__chess_8c_a7fb9ad5c97d8450a447d81ae4c6199fe}{01154}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a7fb9ad5c97d8450a447d81ae4c6199fe}{chess\_uart\_send\_string}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *str)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01155}01155\ \ \ \textcolor{keywordflow}{if}\ (str\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01156}01156\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01157}01157\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01158}01158\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01159}01159\ \ \ \textcolor{comment}{//\ CRITICAL:\ Use\ centralized\ UART\ output\ queue}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01160}01160\ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{uart__task_8c_af1ca9bbdbbd1329b9bade0cc31634ba7}{uart\_queue\_message}}(\textcolor{keywordtype}{int}\ type,\ \textcolor{keywordtype}{bool}\ add\_newline,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01161}01161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ...);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01162}01162\ \ \ \mbox{\hyperlink{uart__task_8c_af1ca9bbdbbd1329b9bade0cc31634ba7}{uart\_queue\_message}}(0,\ \textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}\%s"{}},\ str);\ \textcolor{comment}{//\ UART\_MSG\_NORMAL\ =\ 0}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01163}01163\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01164}01164\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01165}01165\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01166}01166\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01167}\mbox{\hyperlink{freertos__chess_8c_af0a70e7b77c14224b0efc66be5c59396}{01167}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_af0a70e7b77c14224b0efc66be5c59396}{chess\_uart\_printf}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,\ ...)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01168}01168\ \ \ \textcolor{keywordflow}{if}\ (format\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01169}01169\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01170}01170\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01171}01171\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01172}01172\ \ \ \textcolor{comment}{//\ CRITICAL:\ Use\ centralized\ UART\ output\ queue\ with\ formatted\ message}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01173}01173\ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{uart__task_8c_af1ca9bbdbbd1329b9bade0cc31634ba7}{uart\_queue\_message}}(\textcolor{keywordtype}{int}\ type,\ \textcolor{keywordtype}{bool}\ add\_newline,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *format,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01174}01174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ...);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01175}01175\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01176}01176\ \ \ va\_list\ args;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01177}01177\ \ \ va\_start(args,\ format);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01178}01178\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01179}01179\ \ \ \textcolor{keywordtype}{char}\ buffer[256];}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01180}01180\ \ \ \textcolor{keywordtype}{int}\ len\ =\ vsnprintf(buffer,\ \textcolor{keyword}{sizeof}(buffer),\ format,\ args);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01181}01181\ \ \ va\_end(args);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01182}01182\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01183}01183\ \ \ \textcolor{keywordflow}{if}\ (len\ >\ 0\ \&\&\ len\ <\ \textcolor{keyword}{sizeof}(buffer))\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01184}01184\ \ \ \ \ \mbox{\hyperlink{uart__task_8c_af1ca9bbdbbd1329b9bade0cc31634ba7}{uart\_queue\_message}}(0,\ \textcolor{keyword}{false},\ \textcolor{stringliteral}{"{}\%s"{}},\ buffer);\ \textcolor{comment}{//\ UART\_MSG\_NORMAL\ =\ 0}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01185}01185\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01186}01186\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01187}01187\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01188}01188\ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_SIZE;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01189}01189\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01190}01190\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01191}\mbox{\hyperlink{freertos__chess_8c_a6f66538255c01c03931e08eac42e6e8f}{01191}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a6f66538255c01c03931e08eac42e6e8f}{chess\_led\_set\_pixel}}(uint8\_t\ led\_index,\ uint8\_t\ red,\ uint8\_t\ green,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01192}01192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint8\_t\ blue)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01193}01193\ \ \ \textcolor{keywordflow}{if}\ (led\_index\ >=\ \mbox{\hyperlink{chess__types_8h_afb4b5c24ea71da31d1fe1536f5c18728}{CHESS\_LED\_COUNT\_TOTAL}})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01194}01194\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Invalid\ LED\ index:\ \%d\ (max:\ \%d)"{}},\ led\_index,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01195}01195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chess__types_8h_afb4b5c24ea71da31d1fe1536f5c18728}{CHESS\_LED\_COUNT\_TOTAL}}\ -\/\ 1);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01196}01196\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01197}01197\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01198}01198\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01199}01199\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ log\ the\ LED\ command}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01200}01200\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}LED\ Set\ Pixel:\ index=\%d,\ RGB=(\%d,\%d,\%d)"{}},\ led\_index,\ red,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01201}01201\ \ \ \ \ \ \ \ \ \ \ \ green,\ blue);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01202}01202\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01203}01203\ \ \ \textcolor{comment}{//\ Přímé\ volání\ LED\ funkce}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01204}01204\ \ \ \mbox{\hyperlink{led__task_8h_ad4b7ef962f86de71ef5f934f2a92544a}{led\_set\_pixel\_safe}}(led\_index,\ red,\ green,\ blue);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01205}01205\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01206}01206\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01207}01207\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01208}\mbox{\hyperlink{freertos__chess_8c_aba042f04f5d5fcb5bfb8f1ea039be359}{01208}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_aba042f04f5d5fcb5bfb8f1ea039be359}{chess\_led\_set\_all}}(uint8\_t\ red,\ uint8\_t\ green,\ uint8\_t\ blue)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01209}01209\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ log\ the\ LED\ command}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01210}01210\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}LED\ Set\ All:\ RGB=(\%d,\%d,\%d)"{}},\ red,\ green,\ blue);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01211}01211\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01212}01212\ \ \ \textcolor{comment}{//\ Přímé\ volání\ LED\ funkce}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01213}01213\ \ \ \mbox{\hyperlink{led__task_8h_a67410e7a666d076402f2eaf116716a2b}{led\_set\_all\_safe}}(red,\ green,\ blue);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01214}01214\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01215}01215\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01216}01216\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01217}\mbox{\hyperlink{freertos__chess_8c_af2ee44ebdd95075569a9d32e7460ff7e}{01217}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_af2ee44ebdd95075569a9d32e7460ff7e}{chess\_led\_clear}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01218}01218\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ log\ the\ LED\ command}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01219}01219\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}LED\ Clear\ All"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01220}01220\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01221}01221\ \ \ \textcolor{comment}{//\ Přímé\ volání\ LED\ funkce}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01222}01222\ \ \ \mbox{\hyperlink{led__task_8h_afff280b4c9b7261d1a086e0cfa356604}{led\_clear\_all\_safe}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01223}01223\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01224}01224\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01225}01225\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01226}\mbox{\hyperlink{freertos__chess_8c_ab72ea43bb7c2a1d9dee3d16ee7702a35}{01226}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_ab72ea43bb7c2a1d9dee3d16ee7702a35}{chess\_led\_show\_board}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01227}01227\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ log\ the\ LED\ command}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01228}01228\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}LED\ Show\ Chess\ Board\ Pattern"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01229}01229\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01230}01230\ \ \ \textcolor{comment}{//\ Přímé\ volání\ LED\ funkce}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01231}01231\ \ \ \textcolor{comment}{//\ Show\ chess\ board\ pattern\ (alternating\ black/white\ squares)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01232}01232\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 64;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01233}01233\ \ \ \ \ \textcolor{keywordtype}{int}\ row\ =\ i\ /\ 8;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01234}01234\ \ \ \ \ \textcolor{keywordtype}{int}\ col\ =\ i\ \%\ 8;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01235}01235\ \ \ \ \ \textcolor{keywordflow}{if}\ ((row\ +\ col)\ \%\ 2\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01236}01236\ \ \ \ \ \ \ \mbox{\hyperlink{led__task_8h_ad4b7ef962f86de71ef5f934f2a92544a}{led\_set\_pixel\_safe}}(i,\ 255,\ 255,\ 255);\ \textcolor{comment}{//\ White\ squares}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01237}01237\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01238}01238\ \ \ \ \ \ \ \mbox{\hyperlink{led__task_8h_ad4b7ef962f86de71ef5f934f2a92544a}{led\_set\_pixel\_safe}}(i,\ 0,\ 0,\ 0);\ \textcolor{comment}{//\ Black\ squares}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01239}01239\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01240}01240\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01241}01241\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01242}01242\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01243}01243\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01244}\mbox{\hyperlink{freertos__chess_8c_ae834a611972910ae29f806ee1edc6ac5}{01244}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_ae834a611972910ae29f806ee1edc6ac5}{chess\_led\_button\_feedback}}(uint8\_t\ button\_id,\ \textcolor{keywordtype}{bool}\ available)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01245}01245\ \ \ \textcolor{keywordflow}{if}\ (button\_id\ >=\ \mbox{\hyperlink{chess__types_8h_a6f0f1e32a1bc7c5e590c118b42f59b2c}{CHESS\_BUTTON\_COUNT}})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01246}01246\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Invalid\ button\ ID:\ \%d\ (max:\ \%d)"{}},\ button\_id,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01247}01247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{chess__types_8h_a6f0f1e32a1bc7c5e590c118b42f59b2c}{CHESS\_BUTTON\_COUNT}}\ -\/\ 1);}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01248}01248\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01249}01249\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01250}01250\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01251}01251\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ log\ the\ button\ feedback}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01252}01252\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Button\ LED\ Feedback:\ button=\%d,\ available=\%s"{}},\ button\_id,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01253}01253\ \ \ \ \ \ \ \ \ \ \ \ available\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01254}01254\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01255}01255\ \ \ \textcolor{comment}{//\ Přímé\ volání\ LED\ funkce}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01256}01256\ \ \ uint8\_t\ led\_index\ =}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01257}01257\ \ \ \ \ \ \ button\_id\ +\ \mbox{\hyperlink{chess__types_8h_a490b67efe5e74def79831ae40041f654}{CHESS\_LED\_COUNT\_BOARD}};\ \textcolor{comment}{//\ Button\ LEDs\ start\ at\ index\ 64}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01258}01258\ \ \ \textcolor{keywordflow}{if}\ (available)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01259}01259\ \ \ \ \ \mbox{\hyperlink{led__task_8h_ad4b7ef962f86de71ef5f934f2a92544a}{led\_set\_pixel\_safe}}(led\_index,\ 0,\ 255,\ 0);\ \textcolor{comment}{//\ Green\ for\ available}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01260}01260\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01261}01261\ \ \ \ \ \mbox{\hyperlink{led__task_8h_ad4b7ef962f86de71ef5f934f2a92544a}{led\_set\_pixel\_safe}}(led\_index,\ 255,\ 0,\ 0);\ \textcolor{comment}{//\ Red\ for\ not\ available}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01262}01262\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01263}01263\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01264}01264\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01265}01265\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01266}\mbox{\hyperlink{freertos__chess_8c_ad875b05d9ca835122984b99c4d092a6a}{01266}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_ad875b05d9ca835122984b99c4d092a6a}{chess\_matrix\_scan}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01267}01267\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ simulate\ matrix\ scanning}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01268}01268\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Matrix\ Scan:\ Simulating\ 8x8\ reed\ switch\ matrix"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01269}01269\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01270}01270\ \ \ \textcolor{comment}{//\ Simulate\ some\ matrix\ events}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01271}01271\ \ \ \textcolor{keyword}{static}\ uint32\_t\ \mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01272}01272\ \ \ \mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}++;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01273}01273\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01274}01274\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}\ \%\ 10\ ==\ 0)\ \{\ \textcolor{comment}{//\ Every\ 10th\ scan}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01275}01275\ \ \ \ \ \textcolor{comment}{//\ Simulate\ a\ piece\ move}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01276}01276\ \ \ \ \ \mbox{\hyperlink{structmatrix__event__t}{matrix\_event\_t}}\ \textcolor{keyword}{event}\ =\ \{.type\ =\ \mbox{\hyperlink{chess__types_8h_a86af72d7b967d33d0fade767c033320fa35b920398a95b8a2cb0b48a31df01619}{MATRIX\_EVENT\_MOVE\_DETECTED}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01277}01277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .from\_square\ =\ (\mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}\ /\ 10)\ \%\ 64,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01278}01278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .to\_square\ =\ ((\mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}\ /\ 10)\ +\ 1)\ \%\ 64,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01279}01279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .piece\_type\ =\ (\mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}\ /\ 10)\ \%\ 6\ +\ 1,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01280}01280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .timestamp\ =\ esp\_timer\_get\_time()\ /\ 1000\};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01281}01281\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01282}01282\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{freertos__chess_8c_a1b93ff1badbca8962927cb6fd837463e}{matrix\_event\_queue}}\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01283}01283\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (xQueueSend(\mbox{\hyperlink{freertos__chess_8c_a1b93ff1badbca8962927cb6fd837463e}{matrix\_event\_queue}},\ \&event,\ pdMS\_TO\_TICKS(100))\ !=}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01284}01284\ \ \ \ \ \ \ \ \ \ \ pdTRUE)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01285}01285\ \ \ \ \ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ send\ matrix\ event\ to\ queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01286}01286\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01287}01287\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01288}01288\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01289}01289\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01290}01290\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01291}01291\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01292}01292\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01293}\mbox{\hyperlink{freertos__chess_8c_a97e4f6a8afd280c2e3a7c7708c823f26}{01293}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a97e4f6a8afd280c2e3a7c7708c823f26}{chess\_matrix\_reset}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01294}01294\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Matrix\ Reset:\ Clearing\ all\ matrix\ states"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01295}01295\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01296}01296\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01297}01297\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01298}\mbox{\hyperlink{freertos__chess_8c_a082e770fd9ed752fea35d0597d2cc4de}{01298}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a082e770fd9ed752fea35d0597d2cc4de}{chess\_matrix\_get\_status}}(uint8\_t\ *status\_array)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01299}01299\ \ \ \textcolor{keywordflow}{if}\ (status\_array\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01300}01300\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01301}01301\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01302}01302\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01303}01303\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ return\ simulated\ matrix\ status}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01304}01304\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ 64;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01305}01305\ \ \ \ \ status\_array[i]\ =\ (i\ \%\ 8\ ==\ 0)\ ?\ 1\ :\ 0;\ \textcolor{comment}{//\ Simulate\ pieces\ on\ A-\/file}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01306}01306\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01307}01307\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01308}01308\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Matrix\ Status:\ Retrieved\ simulated\ 8x8\ matrix\ state"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01309}01309\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01310}01310\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01311}01311\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01312}\mbox{\hyperlink{freertos__chess_8c_a9fcb61aa21d096994b53489091a335bd}{01312}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a9fcb61aa21d096994b53489091a335bd}{chess\_button\_scan}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01313}01313\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ simulate\ button\ scanning}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01314}01314\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Button\ Scan:\ Simulating\ 9\ button\ states"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01315}01315\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01316}01316\ \ \ \textcolor{comment}{//\ Simulate\ some\ button\ events}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01317}01317\ \ \ \textcolor{keyword}{static}\ uint32\_t\ \mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01318}01318\ \ \ \mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}++;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01319}01319\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01320}01320\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}\ \%\ 20\ ==\ 0)\ \{\ \textcolor{comment}{//\ Every\ 20th\ scan}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01321}01321\ \ \ \ \ \textcolor{comment}{//\ Simulate\ a\ button\ press}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01322}01322\ \ \ \ \ \mbox{\hyperlink{structbutton__event__t}{button\_event\_t}}\ \textcolor{keyword}{event}\ =\ \{.type\ =\ \mbox{\hyperlink{chess__types_8h_a54c67f8a6d26165b932e66b06b5b904bac5a8f24e3beed7990f5495be58d2dc79}{BUTTON\_EVENT\_PRESS}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01323}01323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .button\_id\ =\ (\mbox{\hyperlink{matrix__task_8c_aadac7bd6fb2efeee4da9a5432123db70}{scan\_count}}\ /\ 20)\ \%\ \mbox{\hyperlink{chess__types_8h_a6f0f1e32a1bc7c5e590c118b42f59b2c}{CHESS\_BUTTON\_COUNT}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01324}01324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .press\_duration\_ms\ =\ 100,}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01325}01325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ .timestamp\ =\ esp\_timer\_get\_time()\ /\ 1000\};}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01326}01326\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01327}01327\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{freertos__chess_8c_a05107bbe85fd87a92dad9efd71dbd653}{button\_event\_queue}}\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01328}01328\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (xQueueSend(\mbox{\hyperlink{freertos__chess_8c_a05107bbe85fd87a92dad9efd71dbd653}{button\_event\_queue}},\ \&event,\ pdMS\_TO\_TICKS(100))\ !=}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01329}01329\ \ \ \ \ \ \ \ \ \ \ pdTRUE)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01330}01330\ \ \ \ \ \ \ \ \ ESP\_LOGW(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Failed\ to\ send\ button\ event\ to\ queue"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01331}01331\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01332}01332\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01333}01333\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01334}01334\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01335}01335\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01336}01336\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01337}01337\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01338}\mbox{\hyperlink{freertos__chess_8c_a6611221bad87e54f59f9dd794145a88f}{01338}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a6611221bad87e54f59f9dd794145a88f}{chess\_button\_get\_status}}(uint8\_t\ *button\_status)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01339}01339\ \ \ \textcolor{keywordflow}{if}\ (button\_status\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01340}01340\ \ \ \ \ \textcolor{keywordflow}{return}\ ESP\_ERR\_INVALID\_ARG;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01341}01341\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01342}01342\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01343}01343\ \ \ \textcolor{comment}{//\ In\ simulation\ mode,\ return\ simulated\ button\ status}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01344}01344\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{chess__types_8h_a6f0f1e32a1bc7c5e590c118b42f59b2c}{CHESS\_BUTTON\_COUNT}};\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01345}01345\ \ \ \ \ button\_status[i]\ =\ (i\ \%\ 3\ ==\ 0)\ ?\ 1\ :\ 0;\ \textcolor{comment}{//\ Simulate\ some\ buttons\ pressed}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01346}01346\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01347}01347\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01348}01348\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Button\ Status:\ Retrieved\ simulated\ button\ states"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01349}01349\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01350}01350\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01351}01351\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01352}\mbox{\hyperlink{freertos__chess_8c_a8fc661c051f0a660c3ace708482afdef}{01352}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_a8fc661c051f0a660c3ace708482afdef}{chess\_game\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01353}01353\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Game\ Init:\ Starting\ new\ chess\ game"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01354}01354\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01355}01355\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01356}01356\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01357}\mbox{\hyperlink{freertos__chess_8c_afed3614bd3811e6c72f9fd0f0c6f605f}{01357}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_afed3614bd3811e6c72f9fd0f0c6f605f}{chess\_game\_reset}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01358}01358\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Game\ Reset:\ Resetting\ chess\ game\ to\ initial\ state"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01359}01359\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01360}01360\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01361}01361\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01362}\mbox{\hyperlink{freertos__chess_8c_aee0685887418c8f4406109069ea004de}{01362}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_aee0685887418c8f4406109069ea004de}{chess\_game\_get\_status}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01363}01363\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}Game\ Status:\ Retrieving\ current\ game\ state"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01364}01364\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01365}01365\ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01366}01366\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01367}01367\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01368}01368\ \textcolor{comment}{//\ MEMORY\ OPTIMIZATION\ SYSTEMS\ INITIALIZATION}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01369}01369\ \textcolor{comment}{//\ ============================================================================}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01370}01370\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01371}\mbox{\hyperlink{freertos__chess_8c_ac2f54e3f77005d32b1df12eca333ed3e}{01371}}\ esp\_err\_t\ \mbox{\hyperlink{freertos__chess_8c_ac2f54e3f77005d32b1df12eca333ed3e}{chess\_memory\_systems\_init}}(\textcolor{keywordtype}{void})\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01372}01372\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Initializing\ memory\ optimization\ systems..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01373}01373\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01374}01374\ \ \ esp\_err\_t\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01375}01375\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01376}01376\ \ \ \textcolor{comment}{//\ Initialize\ shared\ buffer\ pool}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01377}01377\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Initializing\ shared\ buffer\ pool..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01378}01378\ \ \ ret\ =\ \mbox{\hyperlink{shared__buffer__pool_8h_a57e203054eac9c4b6834783c64844d9b}{buffer\_pool\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01379}01379\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01380}01380\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}❌\ Shared\ buffer\ pool\ initialization\ failed:\ \%s"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01381}01381\ \ \ \ \ \ \ \ \ \ \ \ \ \ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01382}01382\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01383}01383\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01384}01384\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Shared\ buffer\ pool\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01385}01385\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01386}01386\ \ \ \textcolor{comment}{//\ Initialize\ streaming\ output\ system}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01387}01387\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}🔄\ Initializing\ streaming\ output\ system..."{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01388}01388\ \ \ ret\ =\ \mbox{\hyperlink{streaming__output_8h_a5ce23c8be43f17f9b75c37d63fdb7eac}{streaming\_output\_init}}();}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01389}01389\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01390}01390\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}❌\ Streaming\ output\ initialization\ failed:\ \%s"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01391}01391\ \ \ \ \ \ \ \ \ \ \ \ \ \ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01392}01392\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01393}01393\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01394}01394\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ Streaming\ output\ system\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01395}01395\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01396}01396\ \ \ \textcolor{comment}{//\ Configure\ streaming\ output\ for\ UART}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01397}01397\ \ \ ret\ =\ \mbox{\hyperlink{streaming__output_8h_a8aa67921edc9b4e0c2ffcf2660a96982}{streaming\_set\_uart\_output}}(0);\ \textcolor{comment}{//\ UART\ port\ 0\ (USB\ Serial\ JTAG)}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01398}01398\ \ \ \textcolor{keywordflow}{if}\ (ret\ !=\ ESP\_OK)\ \{}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01399}01399\ \ \ \ \ ESP\_LOGE(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}❌\ Failed\ to\ configure\ UART\ streaming:\ \%s"{}},}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01400}01400\ \ \ \ \ \ \ \ \ \ \ \ \ \ esp\_err\_to\_name(ret));}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01401}01401\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01402}01402\ \ \ \}}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01403}01403\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ UART\ streaming\ configured\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01404}01404\ }
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01405}01405\ \ \ ESP\_LOGI(\mbox{\hyperlink{main_8c_a5a85b9c772bbeb480b209a3e6ea92b4c}{TAG}},\ \textcolor{stringliteral}{"{}✅\ All\ memory\ optimization\ systems\ initialized\ successfully"{}});}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01406}01406\ \ \ \textcolor{keywordflow}{return}\ ESP\_OK;}
\DoxyCodeLine{\Hypertarget{freertos__chess_8c_source_l01407}01407\ \}}

\end{DoxyCode}
